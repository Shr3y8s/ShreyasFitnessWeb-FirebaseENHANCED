<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Account - SHREY.FIT</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="index.html" class="logo-link">
                    <div class="logo-container">
                        <div class="logo-text">
                            <span class="brand-name">SHREY<span class="brand-dot">.</span>FIT</span>
                        </div>
                    </div>
                </a>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">Home</a>
                </li>
                <li class="nav-item">
                    <a href="about.html" class="nav-link">About Me</a>
                </li>
                <li class="nav-item">
                    <a href="services.html" class="nav-link">Services</a>
                </li>
                <li class="nav-item">
                    <a href="connect.html" class="nav-link">Connect</a>
                </li>
                <li class="nav-item">
                    <a href="faq.html" class="nav-link">FAQ</a>
                </li>
                <li class="nav-item">
                    <a href="blogs/" class="nav-link">Blog</a>
                </li>
                <li class="nav-item">
                    <a href="http://localhost:3000/login" class="nav-link account-btn active">Sign Up / Login</a>
                </li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero hero-account">
        <div class="hero-container">
            <div class="hero-content hero-content-account">
                <h1>Your Fitness Journey Awaits</h1>
                <p>Access your personalized dashboard to track progress, view your custom workout plans, and manage your transformation journey.</p>
                
                <!-- Side-by-Side Layout Wrapper -->
                <div class="hero-layout-wrapper">
                    <!-- Login Form (Left Side) -->
                    <div class="login-container hero-login-container">
                        <div class="login-form-container">
                            <div class="panel-header">
                                <div class="header-icon">
                                    <i class="fas fa-sign-in-alt"></i>
                                </div>
                                <h2>Login</h2>
                                <p>Access your personalized fitness dashboard</p>
                                <div class="response-time">
                                    <i class="fas fa-lock"></i>
                                    <span>Secure and encrypted login</span>
                                </div>
                            </div>
                            
                            <form class="enhanced-login-form" id="login-form">
                                <div class="form-group">
                                    <label for="login-email"><i class="fas fa-envelope"></i> Email Address <span class="required">*</span></label>
                                    <input type="email" id="login-email" placeholder="Enter your email address" required>
                                </div>
                                <div class="form-group">
                                    <label for="login-password"><i class="fas fa-lock"></i> Password <span class="required">*</span></label>
                                    <input type="password" id="login-password" placeholder="Enter your password" required>
                                </div>
                                <div class="checkbox-group-enhanced">
                                    <div class="custom-checkbox">
                                        <input type="checkbox" id="remember-me">
                                        <label for="remember-me">
                                            <div class="checkmark"></div>
                                            <div class="checkbox-text">
                                                <span>Remember me</span>
                                            </div>
                                        </label>
                                    </div>
                                </div>
                                <button type="submit" class="btn-primary-enhanced">
                                    <i class="fas fa-sign-in-alt"></i>
                                    Login
                                </button>
                                <div class="form-footer">
                                    <a href="#" class="forgot-password">Forgot your password?</a>
                                    <p class="auth-switch">Don't have an account? <a href="http://localhost:3000/signup" class="signup-link">Join Now</a></p>
                                </div>
                                
                                <div class="social-login">
                                    <p>Or sign in with:</p>
                                    <button type="button" id="google-signin" class="btn-secondary-enhanced">
                                        <i class="fab fa-google"></i> Google
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                    
                    <!-- Feature Cards (Right Side) -->
                    <div class="hero-portal-features">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <h3>Track Your Progress</h3>
                            <p>Monitor your fitness metrics, track weights, measurements, and see your improvement over time with visual charts and progress reports.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-calendar-check"></i>
                            </div>
                            <h3>Session Management</h3>
                            <p>View your scheduled training sessions, book new appointments, and manage your fitness calendar all in one place.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-dumbbell"></i>
                            </div>
                            <h3>Workout Plans</h3>
                            <p>Access your personalized workout plans anytime, with detailed instructions, videos, and progress tracking for each exercise.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-comments"></i>
                            </div>
                            <h3>Direct Communication</h3>
                            <p>Stay connected with your trainer, ask questions, receive feedback, and get support between sessions through secure messaging.</p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Hero image section removed to improve mobile experience -->
        </div>
    </section>

    <!-- Account Section -->
    <section class="account-section">
        <div class="container">
            <!-- Account dashboard content starts here -->
            
            <!-- Registration Form -->
            <div id="register-form" class="auth-form hidden">
                <h2>Create an Account</h2>
                <p class="auth-description">Join SHREY.FIT to access your personalized dashboard, track your progress, and get the most out of your training experience.</p>
                
                <form class="register-form">
                    <div class="form-group">
                        <label for="register-name">Full Name</label>
                        <input type="text" id="register-name" placeholder="Enter your full name" required>
                    </div>
                    <div class="form-group">
                        <label for="register-email">Email Address</label>
                        <input type="email" id="register-email" placeholder="Enter your email address" required>
                    </div>
                    <div class="form-group">
                        <label for="register-password">Password</label>
                        <input type="password" id="register-password" placeholder="Create a password" required>
                    </div>
                    <div class="form-group">
                        <label for="register-confirm">Confirm Password</label>
                        <input type="password" id="register-confirm" placeholder="Confirm your password" required>
                    </div>
                    <div class="form-group">
                        <div class="checkbox-group">
                            <input type="checkbox" id="terms" required>
                            <label for="terms">I agree to the <a href="#">Terms & Conditions</a> and <a href="#">Privacy Policy</a></label>
                        </div>
                    </div>
                    <button type="submit" class="btn-primary full-width">Create Account</button>
                    <p class="auth-switch">Already have an account? <a href="#" id="show-login">Login here</a></p>
                </form>
            </div>

            </div>
    </section>

    <!-- Features section removed - now shown beside login form -->

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>SHREY.FIT</h3>
                    <p>Your certified fitness professional dedicated to helping you achieve your goals through personalized training and coaching.</p>
                </div>
                <div class="footer-section">
                    <h4>Services</h4>
                    <ul>
                        <li><a href="services.html">In-Person Training</a></li>
                        <li><a href="services.html">Online Coaching</a></li>
                        <li><a href="services.html">Complete Transformation</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="about.html">About Me</a></li>
                        <li><a href="blogs/">Blog</a></li>
                        <li><a href="connect.html">Contact</a></li>
                        <li><a href="http://localhost:3000/login">My Account</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 SHREY.FIT. All rights reserved.</p>
            </div>
        </div>
    </footer>


    <script src="js/script.js"></script>
    
    <!-- Firebase SDK - Make sure these are loaded in the correct order -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <!-- Our authentication script - loaded after Firebase SDK -->
    <script src="js/auth.js"></script>
    <!-- Add a small script to catch and log Firebase errors -->
    <script>
      window.addEventListener('error', function(event) {
        if (event.message && event.message.includes('firebase')) {
          console.error('Firebase Error:', event.message);
        }
      });
    </script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const loginForm = document.getElementById('login-form');
        const forgotPasswordLink = document.querySelector('.forgot-password');
        
        // Handle login form submission
        if (loginForm) {
          loginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form values
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            const rememberMe = document.getElementById('remember-me').checked;
            
            // Disable the submit button
            const submitButton = this.querySelector('button[type="submit"]');
            submitButton.disabled = true;
            
            // Login
            login(email, password, rememberMe)
              .catch(error => {
                alert(`Error: ${error.message}`);
                submitButton.disabled = false;
              });
          });
        }
        
        // Handle forgot password link
        if (forgotPasswordLink) {
          forgotPasswordLink.addEventListener('click', function(e) {
            e.preventDefault();
            
            const email = prompt('Enter your email to reset your password:');
            
            if (email) {
              resetPassword(email)
                .then(() => {
                  alert('Password reset email sent. Check your inbox.');
                })
                .catch(error => {
                  alert(`Error: ${error.message}`);
                });
            }
          });
        }
        
        // Handle Google Sign In button
        const googleSignInBtn = document.getElementById('google-signin');
        if (googleSignInBtn) {
          googleSignInBtn.addEventListener('click', function() {
            signInWithGoogle().catch(error => {
              alert(`Error: ${error.message}`);
            });
          });
        }
        
        // Check URL parameters for signup success
        const urlParams = new URLSearchParams(window.location.search);
        const signupSuccess = urlParams.get('signup');
        const email = urlParams.get('email');
        
        // Check for plain email parameter (from signup page "Login Now" button)
        if (email && !signupSuccess) {
          // If we have an email parameter but not a signup success parameter,
          // just fill in the email field
          const emailInput = document.getElementById('login-email');
          if (emailInput) emailInput.value = email;
        }
        
        if (signupSuccess === 'success') {
          // Create and show success message
          const successDiv = document.createElement('div');
          successDiv.className = 'success-message';
          successDiv.innerHTML = `
            <div class="alert-icon">
              <i class="fas fa-check-circle"></i>
            </div>
            <p><strong>Account Created Successfully!</strong></p>
            <p>Your account has been created. Please log in with your credentials to access your dashboard.</p>
            ${email ? `<p>Email: ${email}</p>` : ''}
          `;
          
          // Insert before the login form
          const loginContainer = document.querySelector('.login-form-container');
          if (loginContainer) {
            loginContainer.insertBefore(successDiv, loginContainer.firstChild);
            
            // Auto-fill email if available
            if (email) {
              const emailInput = document.getElementById('login-email');
              if (emailInput) emailInput.value = email;
            }
          }
        }
      });
    </script>
</body>
</html>
