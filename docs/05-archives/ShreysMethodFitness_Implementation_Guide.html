<!DOCTYPE html>
<html>
<head>
<title>ShreysMethodFitness_Implementation_Guide.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="the-shrey-method-fitness-platform">The Shrey Method Fitness Platform</h1>
<h2 id="implementation-guide--ui-specifications">Implementation Guide &amp; UI Specifications</h2>
<p><strong>Prepared for:</strong> Shreyas Annapureddy<br>
<strong>Date:</strong> July 27, 2025<br>
<strong>Version:</strong> 1.0</p>
<hr>
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#project-overview">Project Overview</a></li>
<li><a href="#phase-1-authentication--dashboard-inbox">Phase 1: Authentication &amp; Dashboard Inbox</a></li>
<li><a href="#phase-2-basic-client--coach-dashboards">Phase 2: Basic Client &amp; Coach Dashboards</a></li>
<li><a href="#phase-3-payment-processing">Phase 3: Payment Processing</a></li>
<li><a href="#phase-4-calendly-integration">Phase 4: Calendly Integration</a></li>
<li><a href="#cost-estimates">Cost Estimates</a></li>
<li><a href="#future-expansion-considerations">Future Expansion Considerations</a></li>
<li><a href="#technical-resources">Technical Resources</a></li>
</ol>
<hr>
<h2 id="introduction">Introduction</h2>
<p>This document provides a comprehensive implementation guide for The Shrey Method Fitness Platform. It outlines a phased approach to development, with detailed technical specifications, UI mockups, and step-by-step implementation instructions for each phase.</p>
<p>The platform will transform your current static website into a full-featured coaching platform with client management, payment processing, scheduling, and content delivery capabilities.</p>
<hr>
<h2 id="project-overview">Project Overview</h2>
<h3 id="core-functionality">Core Functionality</h3>
<p>The Shrey Method Fitness Platform will enable:</p>
<ol>
<li><strong>Client Management</strong>: Onboarding, tracking, and managing fitness clients</li>
<li><strong>Content Delivery</strong>: Providing personalized workout and nutrition plans</li>
<li><strong>Payment Processing</strong>: Handling one-time and recurring payments</li>
<li><strong>Scheduling</strong>: Booking and managing coaching sessions</li>
<li><strong>Communication</strong>: Messaging between coach and clients</li>
</ol>
<h3 id="technology-stack">Technology Stack</h3>
<ul>
<li><strong>Frontend</strong>: HTML, CSS, JavaScript (existing website)</li>
<li><strong>Backend</strong>: AWS Amplify, AWS Lambda, API Gateway</li>
<li><strong>Authentication</strong>: AWS Cognito</li>
<li><strong>Database</strong>: DynamoDB</li>
<li><strong>File Storage</strong>: Amazon S3</li>
<li><strong>Payment Processing</strong>: Stripe</li>
<li><strong>Scheduling</strong>: Calendly (paid plan)</li>
</ul>
<h3 id="implementation-approach">Implementation Approach</h3>
<p>The platform will be built in four phases, each adding specific functionality while maintaining a working system throughout the development process.</p>
<hr>
<h2 id="phase-1-authentication--dashboard-inbox">Phase 1: Authentication &amp; Dashboard Inbox</h2>
<h3 id="overview">Overview</h3>
<p>Phase 1 establishes the foundation of the platform by implementing user authentication and a basic messaging system. This creates immediate value by allowing clients to register and communicate with you through a centralized inbox.</p>
<h3 id="ui-mockups">UI Mockups</h3>
<h4 id="client-login-page">Client Login Page</h4>
<pre class="hljs"><code><div>+------------------------------------------------------+
|  THE SHREY METHOD FITNESS                            |
+------------------------------------------------------+
|                                                      |
|  +------------------------------------------+        |
|  |  Log In to Your Dashboard                |        |
|  |                                          |        |
|  |  Email: [                           ]    |        |
|  |                                          |        |
|  |  Password: [                        ]    |        |
|  |                                          |        |
|  |  [Forgot Password?]      [LOG IN] button |        |
|  |                                          |        |
|  |  New client? [Sign Up]                   |        |
|  +------------------------------------------+        |
|                                                      |
+------------------------------------------------------+
</div></code></pre>
<h4 id="coach-dashboard---inbox-view">Coach Dashboard - Inbox View</h4>
<pre class="hljs"><code><div>+------------------------------------------------------+
|  THE SHREY METHOD FITNESS           [Shreyas ▼]      |
+------------------------------------------------------+
|                                                      |
| [Dashboard]                                          |
| [Clients]                       +----------------+   |
| [★ Messages] (12 new)           | Search: [    ] |   |
| [Programs]                      +----------------+   |
| [Settings]                                           |
|                                                      |
| MESSAGES                  Sort by: [Date ▼] [Filter] |
|                                                      |
| ● John Doe - New Client Inquiry          2 hrs ago   |
| &quot;I'm interested in your 8-week program...&quot;           |
|                                                      |
| ● Sarah Smith - Question about diet      5 hrs ago   |
| &quot;Should I be taking protein supplements...&quot;          |
|                                                      |
| ○ Michael Johnson - Payment Issue        Yesterday   |
| &quot;I think I was charged twice for my...&quot;              |
|                                                      |
| ○ Lisa Wang - Program Feedback          07/24/25     |
| &quot;I've completed week 3 and wanted to...&quot;             |
|                                                      |
| [Load More Messages]                                 |
|                                                      |
+------------------------------------------------------+
</div></code></pre>
<h3 id="step-by-step-implementation">Step-by-Step Implementation</h3>
<h4 id="1-set-up-aws-amplify-project">1. Set Up AWS Amplify Project</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Install Amplify CLI</span>
npm install -g @aws-amplify/cli

<span class="hljs-comment"># Configure Amplify</span>
amplify configure

<span class="hljs-comment"># Initialize Amplify in your project directory</span>
<span class="hljs-built_in">cd</span> /path/to/ShreyasFitnessWeb
amplify init
</div></code></pre>
<p><strong>Configuration Details:</strong></p>
<ul>
<li>Project name: ShreyMethodFitness</li>
<li>Environment: dev</li>
<li>Default editor: Visual Studio Code</li>
<li>Type of app: JavaScript</li>
<li>JavaScript framework: None</li>
<li>Source directory: /</li>
<li>Distribution directory: /</li>
<li>Build command: npm run build</li>
<li>Start command: npm start</li>
</ul>
<h4 id="2-add-authentication">2. Add Authentication</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Add authentication</span>
amplify add auth

<span class="hljs-comment"># Push changes to AWS</span>
amplify push
</div></code></pre>
<p><strong>Configuration Details:</strong></p>
<ul>
<li>Authentication service: Cognito</li>
<li>Default authentication flow: Email &amp; Password</li>
<li>Configure advanced settings: Yes</li>
<li>User attributes: Name, Email, Phone Number</li>
<li>Admin queries API: Yes</li>
<li>Triggers for Lambda functions: Post Confirmation</li>
</ul>
<h4 id="3-create-user-roles">3. Create User Roles</h4>
<ol>
<li>Navigate to AWS Cognito Console</li>
<li>Select your User Pool</li>
<li>Go to &quot;Groups&quot; and create two groups:
<ul>
<li>&quot;clients&quot;</li>
<li>&quot;coaches&quot;</li>
</ul>
</li>
<li>Add your admin account to the &quot;coaches&quot; group</li>
</ol>
<h4 id="4-set-up-database-for-messages">4. Set Up Database for Messages</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Add API and database</span>
amplify add api
</div></code></pre>
<p><strong>Configuration Details:</strong></p>
<ul>
<li>Service: GraphQL</li>
<li>API name: shreymethodapi</li>
<li>Authorization type: Amazon Cognito User Pool</li>
<li>Configure additional auth types: No</li>
<li>Schema template: Single object with fields</li>
</ul>
<p>Create the following schema in <code>amplify/backend/api/shreymethodapi/schema.graphql</code>:</p>
<pre class="hljs"><code><div>type Message @model
@auth(rules: [
  { allow: groups, groups: [&quot;coaches&quot;], operations: [create, read, update, delete] },
  { allow: owner, operations: [create, read] }
]) {
  id: ID!
  senderName: String!
  senderEmail: String!
  subject: String!
  content: String!
  read: Boolean!
  archived: Boolean!
  createdAt: AWSDateTime!
}

type User @model
@auth(rules: [
  { allow: groups, groups: [&quot;coaches&quot;], operations: [read, update] },
  { allow: owner, operations: [read, update] }
]) {
  id: ID!
  name: String!
  email: String!
  phone: String
  userGroup: String!
  createdAt: AWSDateTime!
}
</div></code></pre>
<pre class="hljs"><code><div><span class="hljs-comment"># Push changes to AWS</span>
amplify push
</div></code></pre>
<h4 id="5-create-authentication-ui-components">5. Create Authentication UI Components</h4>
<ol>
<li>Create login page (<code>client-login.html</code>):</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Login - The Shrey Method Fitness<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"css/styles.css"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Add AWS Amplify libraries --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/aws-amplify@5.0.4/dist/aws-amplify.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Navigation bar (reuse existing) --&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"auth-container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"auth-form"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Log In to Your Dashboard<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"error-message"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"error-message"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            
            <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"login-form"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"email"</span>&gt;</span>Email<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">required</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"password"</span>&gt;</span>Password<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">required</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-actions"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"forgot-password.html"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"forgot-password"</span>&gt;</span>Forgot Password?<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-primary"</span>&gt;</span>Log In<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
            
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"auth-redirect"</span>&gt;</span>New client? <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"signup.html"</span>&gt;</span>Sign Up<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"js/auth.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<ol start="2">
<li>
<p>Create signup page (<code>signup.html</code>) - similar structure to login page</p>
</li>
<li>
<p>Create authentication JavaScript (<code>js/auth.js</code>):</p>
</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-comment">// Configure Amplify</span>
<span class="hljs-keyword">const</span> awsConfig = {
    <span class="hljs-attr">Auth</span>: {
        <span class="hljs-attr">region</span>: <span class="hljs-string">'us-west-2'</span>, <span class="hljs-comment">// Your AWS region</span>
        <span class="hljs-attr">userPoolId</span>: <span class="hljs-string">'us-west-2_xxxxxxxx'</span>, <span class="hljs-comment">// Your Cognito User Pool ID</span>
        <span class="hljs-attr">userPoolWebClientId</span>: <span class="hljs-string">'xxxxxxxxxxxxxxxxxxxxxxxxxx'</span>, <span class="hljs-comment">// Your App Client ID</span>
    }
};

Amplify.configure(awsConfig);

<span class="hljs-comment">// Login form handler</span>
<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'login-form'</span>).addEventListener(<span class="hljs-string">'submit'</span>, <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
    event.preventDefault();
    
    <span class="hljs-keyword">const</span> email = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'email'</span>).value;
    <span class="hljs-keyword">const</span> password = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'password'</span>).value;
    <span class="hljs-keyword">const</span> errorMessage = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'error-message'</span>);
    
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> Amplify.Auth.signIn(email, password);
        
        <span class="hljs-comment">// Check user group and redirect accordingly</span>
        <span class="hljs-keyword">const</span> session = <span class="hljs-keyword">await</span> Amplify.Auth.currentSession();
        <span class="hljs-keyword">const</span> idToken = session.getIdToken().payload;
        
        <span class="hljs-keyword">if</span> (idToken[<span class="hljs-string">'cognito:groups'</span>] &amp;&amp; idToken[<span class="hljs-string">'cognito:groups'</span>].includes(<span class="hljs-string">'coaches'</span>)) {
            <span class="hljs-built_in">window</span>.location.href = <span class="hljs-string">'coach-dashboard.html'</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">window</span>.location.href = <span class="hljs-string">'client-dashboard.html'</span>;
        }
    } <span class="hljs-keyword">catch</span> (error) {
        errorMessage.textContent = error.message;
    }
});
</div></code></pre>
<h4 id="6-create-coach-dashboard-with-inbox">6. Create Coach Dashboard with Inbox</h4>
<ol>
<li>Create coach dashboard page (<code>coach-dashboard.html</code>):</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Coach Dashboard - The Shrey Method Fitness<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"css/styles.css"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"css/dashboard.css"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/aws-amplify@5.0.4/dist/aws-amplify.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-container"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- Sidebar navigation --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-sidebar"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"logo"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>The Shrey Method<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-nav"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"coach-dashboard.html"</span>&gt;</span>Dashboard<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"coach-clients.html"</span>&gt;</span>Clients<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"active"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"coach-messages.html"</span>&gt;</span>Messages <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"badge"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"unread-count"</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"coach-programs.html"</span>&gt;</span>Programs<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"coach-settings.html"</span>&gt;</span>Settings<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"sidebar-footer"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"logout-btn"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-secondary"</span>&gt;</span>Log Out<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        
        <span class="hljs-comment">&lt;!-- Main content area --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-content"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-header"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Messages<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"user-menu"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user-name"</span>&gt;</span>Shreyas<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"Shreyas-profile.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"Profile"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"avatar"</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
            
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content-container"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toolbar"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"search-box"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"search-messages"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Search messages..."</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"filters"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"sort-by"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"date-desc"</span>&gt;</span>Newest First<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"date-asc"</span>&gt;</span>Oldest First<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"unread"</span>&gt;</span>Unread First<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"filter-btn"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-secondary"</span>&gt;</span>Filter<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"messages-list"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"messages-container"</span>&gt;</span>
                    <span class="hljs-comment">&lt;!-- Messages will be loaded here dynamically --&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"loading"</span>&gt;</span>Loading messages...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pagination"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"load-more"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-secondary"</span>&gt;</span>Load More Messages<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"js/coach-messages.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<ol start="2">
<li>Create message handling JavaScript (<code>js/coach-messages.js</code>):</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-comment">// Configure Amplify (same as auth.js)</span>
<span class="hljs-keyword">const</span> awsConfig = {
    <span class="hljs-attr">Auth</span>: {
        <span class="hljs-attr">region</span>: <span class="hljs-string">'us-west-2'</span>,
        <span class="hljs-attr">userPoolId</span>: <span class="hljs-string">'us-west-2_xxxxxxxx'</span>,
        <span class="hljs-attr">userPoolWebClientId</span>: <span class="hljs-string">'xxxxxxxxxxxxxxxxxxxxxxxxxx'</span>,
    },
    <span class="hljs-attr">API</span>: {
        <span class="hljs-attr">endpoints</span>: [{
            <span class="hljs-attr">name</span>: <span class="hljs-string">"shreymethodapi"</span>,
            <span class="hljs-attr">endpoint</span>: <span class="hljs-string">"https://xxxxxxxxxx.execute-api.us-west-2.amazonaws.com/dev"</span>
        }]
    }
};

Amplify.configure(awsConfig);

<span class="hljs-comment">// Check authentication</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkAuth</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">await</span> Amplify.Auth.currentAuthenticatedUser();
    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-built_in">window</span>.location.href = <span class="hljs-string">'client-login.html'</span>;
    }
}

<span class="hljs-comment">// Fetch messages</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fetchMessages</span>(<span class="hljs-params">nextToken = null</span>) </span>{
    <span class="hljs-keyword">const</span> messagesContainer = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'messages-container'</span>);
    <span class="hljs-keyword">const</span> loadMoreBtn = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'load-more'</span>);
    
    <span class="hljs-keyword">if</span> (!nextToken) {
        messagesContainer.innerHTML = <span class="hljs-string">'&lt;div class="loading"&gt;Loading messages...&lt;/div&gt;'</span>;
    }
    
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> query = <span class="hljs-string">`query ListMessages($limit: Int, $nextToken: String) {
            listMessages(limit: $limit, nextToken: $nextToken) {
                items {
                    id
                    senderName
                    senderEmail
                    subject
                    content
                    read
                    createdAt
                }
                nextToken
            }
        }`</span>;
        
        <span class="hljs-keyword">const</span> variables = {
            <span class="hljs-attr">limit</span>: <span class="hljs-number">10</span>,
            <span class="hljs-attr">nextToken</span>: nextToken
        };
        
        <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> Amplify.API.graphql({
            <span class="hljs-attr">query</span>: query,
            <span class="hljs-attr">variables</span>: variables
        });
        
        <span class="hljs-keyword">const</span> messages = response.data.listMessages.items;
        <span class="hljs-keyword">const</span> newNextToken = response.data.listMessages.nextToken;
        
        <span class="hljs-keyword">if</span> (!nextToken) {
            messagesContainer.innerHTML = <span class="hljs-string">''</span>;
        }
        
        <span class="hljs-comment">// Update unread count</span>
        <span class="hljs-keyword">const</span> unreadCount = messages.filter(<span class="hljs-function"><span class="hljs-params">msg</span> =&gt;</span> !msg.read).length;
        <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'unread-count'</span>).textContent = unreadCount &gt; <span class="hljs-number">0</span> ? unreadCount : <span class="hljs-string">''</span>;
        
        <span class="hljs-comment">// Render messages</span>
        messages.forEach(<span class="hljs-function"><span class="hljs-params">message</span> =&gt;</span> {
            <span class="hljs-keyword">const</span> messageDate = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(message.createdAt);
            <span class="hljs-keyword">const</span> formattedDate = formatDate(messageDate);
            
            <span class="hljs-keyword">const</span> messageEl = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>);
            messageEl.className = <span class="hljs-string">`message-item <span class="hljs-subst">${message.read ? <span class="hljs-string">''</span> : <span class="hljs-string">'unread'</span>}</span>`</span>;
            messageEl.dataset.id = message.id;
            
            messageEl.innerHTML = <span class="hljs-string">`
                &lt;div class="message-header"&gt;
                    &lt;div class="message-sender"&gt;
                        &lt;span class="status-indicator"&gt;&lt;/span&gt;
                        &lt;strong&gt;<span class="hljs-subst">${message.senderName}</span>&lt;/strong&gt; - <span class="hljs-subst">${message.subject}</span>
                    &lt;/div&gt;
                    &lt;div class="message-date"&gt;<span class="hljs-subst">${formattedDate}</span>&lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="message-preview"&gt;<span class="hljs-subst">${message.content.substring(<span class="hljs-number">0</span>, <span class="hljs-number">100</span>)}</span><span class="hljs-subst">${message.content.length &gt; <span class="hljs-number">100</span> ? <span class="hljs-string">'...'</span> : <span class="hljs-string">''</span>}</span>&lt;/div&gt;
            `</span>;
            
            messageEl.addEventListener(<span class="hljs-string">'click'</span>, () =&gt; viewMessage(message.id));
            messagesContainer.appendChild(messageEl);
        });
        
        <span class="hljs-comment">// Handle "Load More" button</span>
        <span class="hljs-keyword">if</span> (newNextToken) {
            loadMoreBtn.style.display = <span class="hljs-string">'block'</span>;
            loadMoreBtn.onclick = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> fetchMessages(newNextToken);
        } <span class="hljs-keyword">else</span> {
            loadMoreBtn.style.display = <span class="hljs-string">'none'</span>;
        }
        
    } <span class="hljs-keyword">catch</span> (error) {
        messagesContainer.innerHTML = <span class="hljs-string">`&lt;div class="error"&gt;Error loading messages: <span class="hljs-subst">${error.message}</span>&lt;/div&gt;`</span>;
    }
}

<span class="hljs-comment">// Format date helper</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">formatDate</span>(<span class="hljs-params">date</span>) </span>{
    <span class="hljs-keyword">const</span> now = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
    <span class="hljs-keyword">const</span> diffMs = now - date;
    <span class="hljs-keyword">const</span> diffHrs = <span class="hljs-built_in">Math</span>.floor(diffMs / (<span class="hljs-number">1000</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span>));
    
    <span class="hljs-keyword">if</span> (diffHrs &lt; <span class="hljs-number">24</span>) {
        <span class="hljs-keyword">if</span> (diffHrs &lt; <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">const</span> diffMins = <span class="hljs-built_in">Math</span>.floor(diffMs / (<span class="hljs-number">1000</span> * <span class="hljs-number">60</span>));
            <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${diffMins}</span> mins ago`</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${diffHrs}</span> hrs ago`</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (diffHrs &lt; <span class="hljs-number">48</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">'Yesterday'</span>;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> date.toLocaleDateString();
    }
}

<span class="hljs-comment">// View message details</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">viewMessage</span>(<span class="hljs-params">messageId</span>) </span>{
    <span class="hljs-comment">// Implementation for viewing a message and marking as read</span>
    <span class="hljs-comment">// This would open a modal or navigate to a message detail page</span>
}

<span class="hljs-comment">// Initialize</span>
<span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">'DOMContentLoaded'</span>, () =&gt; {
    checkAuth();
    fetchMessages();
    
    <span class="hljs-comment">// Set up logout</span>
    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'logout-btn'</span>).addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">async</span> () =&gt; {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">await</span> Amplify.Auth.signOut();
            <span class="hljs-built_in">window</span>.location.href = <span class="hljs-string">'index.html'</span>;
        } <span class="hljs-keyword">catch</span> (error) {
            <span class="hljs-built_in">console</span>.error(<span class="hljs-string">'Error signing out: '</span>, error);
        }
    });
});
</div></code></pre>
<h4 id="7-modify-contact-form-to-store-messages">7. Modify Contact Form to Store Messages</h4>
<ol>
<li>Update the existing contact form in <code>connect.html</code> to send messages to the database:</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-comment">&lt;!-- Existing contact form HTML --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"contact-form"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"contact-form"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"name"</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">required</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"email"</span>&gt;</span>Email<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">required</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"subject"</span>&gt;</span>Subject<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"subject"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"subject"</span> <span class="hljs-attr">required</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"message"</span>&gt;</span>Message<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"message"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"message"</span> <span class="hljs-attr">rows</span>=<span class="hljs-string">"5"</span> <span class="hljs-attr">required</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-primary"</span>&gt;</span>Send Message<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
</div></code></pre>
<ol start="2">
<li>Create JavaScript to handle form submission (<code>js/contact-form.js</code>):</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-comment">// Configure Amplify</span>
<span class="hljs-keyword">const</span> awsConfig = {
    <span class="hljs-attr">Auth</span>: {
        <span class="hljs-attr">region</span>: <span class="hljs-string">'us-west-2'</span>,
        <span class="hljs-attr">userPoolId</span>: <span class="hljs-string">'us-west-2_xxxxxxxx'</span>,
        <span class="hljs-attr">userPoolWebClientId</span>: <span class="hljs-string">'xxxxxxxxxxxxxxxxxxxxxxxxxx'</span>,
    },
    <span class="hljs-attr">API</span>: {
        <span class="hljs-attr">endpoints</span>: [{
            <span class="hljs-attr">name</span>: <span class="hljs-string">"shreymethodapi"</span>,
            <span class="hljs-attr">endpoint</span>: <span class="hljs-string">"https://xxxxxxxxxx.execute-api.us-west-2.amazonaws.com/dev"</span>
        }]
    }
};

Amplify.configure(awsConfig);

<span class="hljs-comment">// Handle form submission</span>
<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'contact-form'</span>).addEventListener(<span class="hljs-string">'submit'</span>, <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
    event.preventDefault();
    
    <span class="hljs-keyword">const</span> submitButton = <span class="hljs-keyword">this</span>.querySelector(<span class="hljs-string">'button[type="submit"]'</span>);
    <span class="hljs-keyword">const</span> originalText = submitButton.textContent;
    submitButton.textContent = <span class="hljs-string">'Sending...'</span>;
    submitButton.disabled = <span class="hljs-literal">true</span>;
    
    <span class="hljs-keyword">const</span> name = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'name'</span>).value;
    <span class="hljs-keyword">const</span> email = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'email'</span>).value;
    <span class="hljs-keyword">const</span> subject = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'subject'</span>).value;
    <span class="hljs-keyword">const</span> content = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'message'</span>).value;
    
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// Create message in database</span>
        <span class="hljs-keyword">const</span> mutation = <span class="hljs-string">`mutation CreateMessage($input: CreateMessageInput!) {
            createMessage(input: $input) {
                id
            }
        }`</span>;
        
        <span class="hljs-keyword">const</span> variables = {
            <span class="hljs-attr">input</span>: {
                <span class="hljs-attr">senderName</span>: name,
                <span class="hljs-attr">senderEmail</span>: email,
                <span class="hljs-attr">subject</span>: subject,
                <span class="hljs-attr">content</span>: content,
                <span class="hljs-attr">read</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-attr">archived</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-attr">createdAt</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().toISOString()
            }
        };
        
        <span class="hljs-keyword">await</span> Amplify.API.graphql({
            <span class="hljs-attr">query</span>: mutation,
            <span class="hljs-attr">variables</span>: variables
        });
        
        <span class="hljs-comment">// Show success message</span>
        <span class="hljs-keyword">this</span>.reset();
        alert(<span class="hljs-string">'Your message has been sent successfully!'</span>);
        
    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-built_in">console</span>.error(<span class="hljs-string">'Error sending message:'</span>, error);
        alert(<span class="hljs-string">'There was an error sending your message. Please try again later.'</span>);
    } <span class="hljs-keyword">finally</span> {
        submitButton.textContent = originalText;
        submitButton.disabled = <span class="hljs-literal">false</span>;
    }
});
</div></code></pre>
<ol start="3">
<li>Add the script to <code>connect.html</code>:</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/aws-amplify@5.0.4/dist/aws-amplify.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"js/contact-form.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</div></code></pre>
<h4 id="8-testing-phase-1">8. Testing Phase 1</h4>
<ol>
<li>
<p><strong>Authentication Testing</strong>:</p>
<ul>
<li>Test user registration</li>
<li>Test login for both client and coach accounts</li>
<li>Test password reset functionality</li>
<li>Verify proper redirection based on user role</li>
</ul>
</li>
<li>
<p><strong>Message System Testing</strong>:</p>
<ul>
<li>Submit test messages through the contact form</li>
<li>Verify messages appear in coach dashboard</li>
<li>Test message sorting and filtering</li>
<li>Verify unread message count updates correctly</li>
</ul>
</li>
<li>
<p><strong>Security Testing</strong>:</p>
<ul>
<li>Verify clients cannot access coach dashboard</li>
<li>Verify unauthenticated users cannot access protected pages</li>
<li>Test API permissions to ensure proper access control</li>
</ul>
</li>
</ol>
<h4 id="9-deployment">9. Deployment</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Deploy all Amplify resources</span>
amplify publish
</div></code></pre>
<p>Update your AWS Amplify hosting settings to handle redirects for single-page application behavior.</p>
<hr>
<h2 id="phase-2-basic-client--coach-dashboards">Phase 2: Basic Client &amp; Coach Dashboards</h2>
<h3 id="overview">Overview</h3>
<p>Phase 2 expands the platform with basic dashboard functionality for both clients and coaches. This includes client management for coaches and program access for clients.</p>
<h3 id="ui-mockups">UI Mockups</h3>
<h4 id="client-dashboard---main-view">Client Dashboard - Main View</h4>
<pre class="hljs"><code><div>+------------------------------------------------------+
|  THE SHREY METHOD FITNESS           [John ▼]         |
+------------------------------------------------------+
|                                                      |
| [Overview]                                           |
| [My Program]                                         |
| [Nutrition]            Welcome Back, John!           |
| [Messages]                                           |
| [Payments]             Current Program:              |
| [Schedule]             8-WEEK STRENGTH FOUNDATION    |
|                                                      |
|                        Next Check-in: July 30, 2025  |
|                                                      |
| QUICK ACCESS           PROGRAM PROGRESS              |
|                                                      |
| [View Today's          [▓▓▓▓▓▓▓░░░] Week 3 of 8     |
|  Workout]                                            |
|                        RECENT FILES                  |
| [Log Nutrition]                                      |
|                        • Nutrition Plan July.pdf     |
| [Message Coach]        • Week 3 Workouts.pdf         |
|                        • Progress Chart.pdf          |
|                                                      |
+------------------------------------------------------+
</div></code></pre>
<h4 id="coach-dashboard---client-view">Coach Dashboard - Client View</h4>
<pre class="hljs"><code><div>+------------------------------------------------------+
|  THE SHREY METHOD FITNESS           [Shreyas ▼]      |
+------------------------------------------------------+
|                                                      |
| [Dashboard]                    [+ Add New Client]    |
| [★ Clients]                                          |
| [Messages] (3 new)             CLIENT LIST           |
| [Programs]                                           |
| [Settings]             [Search: [            ]       |
|                                                      |
| ACTIVE CLIENTS (24)    Sort by: [Name ▼]  [Filter]  |
|                                                      |
| ● John Doe             Program: Strength Foundation  |
|   Started: 06/15/25    Status: Active Week 3/8      |
|   Next check-in: 3 days                             |
|                                                      |
| ● Sarah Smith          Program: Custom Fat Loss      |
|   Started: 07/01/25    Status: Active Week 2/12     |
|   Next check-in: Tomorrow                            |
|                                                      |
| ○ Michael Johnson      Program: Athletic Performance |
|   Started: 05/10/25    Status: Active Week 8/8      |
|   Next check-in: Today                              |
|                                                      |
| [Load More Clients]                                  |
|                                                      |
+------------------------------------------------------+
</div></code></pre>
<h3 id="step-by-step-implementation">Step-by-Step Implementation</h3>
<h4 id="1-extend-database-schema">1. Extend Database Schema</h4>
<p>Update the GraphQL schema to include program and client information:</p>
<pre class="hljs"><code><div><span class="hljs-comment"># Edit the schema</span>
nano amplify/backend/api/shreymethodapi/schema.graphql
</div></code></pre>
<p>Add the following types:</p>
<pre class="hljs"><code><div>type Program @model
@auth(rules: [
  { allow: groups, groups: [&quot;coaches&quot;], operations: [create, read, update, delete] },
  { allow: owner, operations: [read] }
]) {
  id: ID!
  name: String!
  description: String!
  duration: Int!
  type: String!
  createdAt: AWSDateTime!
}

type ClientProgram @model
@auth(rules: [
  { allow: groups, groups: [&quot;coaches&quot;], operations: [create, read, update, delete] },
  { allow: owner, operations: [read] }
]) {
  id: ID!
  clientId: ID!
  programId: ID!
  startDate: AWSDateTime!
  currentWeek: Int!
  status: String!
  nextCheckIn: AWSDateTime
}

type ProgramContent @model
@auth(rules: [
  { allow: groups, groups: [&quot;coaches&quot;], operations: [create, read, update, delete] },
  { allow: owner, operations: [read] }
]) {
  id: ID!
  programId: ID!
  clientId: ID
  title: String!
  description: String
  fileUrl: String!
  fileType: String!
  week: Int
  createdAt: AWSDateTime!
}
</div></code></pre>
<pre class="hljs"><code><div><span class="hljs-comment"># Push changes to AWS</span>
amplify push
</div></code></pre>
<h4 id="2-set-up-s3-storage-for-program-files">2. Set Up S3 Storage for Program Files</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Add storage</span>
amplify add storage
</div></code></pre>
<p><strong>Configuration Details:</strong></p>
<ul>
<li>Service: Content (Images, audio, video, etc.)</li>
<li>Resource name: shreymethodstorage</li>
<li>Bucket name: shreymethodfitness-storage</li>
<li>Authentication: Auth users only</li>
<li>Access: Auth users only</li>
<li>Lambda triggers: No</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-comment"># Push changes to AWS</span>
amplify push
</div></code></pre>
<h4 id="3-create-client-dashboard">3. Create Client Dashboard</h4>
<ol>
<li>Create client dashboard page (<code>client-dashboard.html</code>):</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Client Dashboard - The Shrey Method Fitness<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"css/styles.css"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"css/dashboard.css"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/aws-amplify@5.0.4/dist/aws-amplify.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-container"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- Sidebar navigation --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-sidebar"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"logo"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>The Shrey Method<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-nav"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"active"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"client-dashboard.html"</span>&gt;</span>Overview<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"client-program.html"</span>&gt;</span>My Program<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"client-nutrition.html"</span>&gt;</span>Nutrition<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"client-messages.html"</span>&gt;</span>Messages<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"client-payments.html"</span>&gt;</span>Payments<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"client-schedule.html"</span>&gt;</span>Schedule<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"sidebar-footer"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"logout-btn"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-secondary"</span>&gt;</span>Log Out<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        
        <span class="hljs-comment">&lt;!-- Main content area --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-content"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-header"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Welcome Back, <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"client-name"</span>&gt;</span>Client<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"user-menu"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user-name"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"images/default-avatar.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"Profile"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"avatar"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user-avatar"</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
            
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content-container"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-grid"</span>&gt;</span>
                    <span class="hljs-comment">&lt;!-- Program Overview Card --&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-card"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Current Program<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"program-info"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"loading"</span>&gt;</span>Loading program information...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    
                    <span class="hljs-comment">&lt;!-- Progress Card --&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-card"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Program Progress<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"progress-container"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"loading"</span>&gt;</span>Loading progress...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    
                    <span class="hljs-comment">&lt;!-- Quick Access Card --&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-card"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Quick Access<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"quick-actions"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"view-workout-btn"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-primary"</span>&gt;</span>View Today's Workout<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"log-nutrition-btn"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-primary"</span>&gt;</span>Log Nutrition<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"message-coach-btn"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-primary"</span>&gt;</span>Message Coach<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    
                    <span class="hljs-comment">&lt;!-- Recent Files Card --&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-card"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Recent Files<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"recent-files"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"loading"</span>&gt;</span>Loading recent files...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"js/client-dashboard.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<ol start="2">
<li>Create client dashboard JavaScript (<code>js/client-dashboard.js</code>):</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-comment">// Configure Amplify</span>
<span class="hljs-keyword">const</span> awsConfig = {
    <span class="hljs-attr">Auth</span>: {
        <span class="hljs-attr">region</span>: <span class="hljs-string">'us-west-2'</span>,
        <span class="hljs-attr">userPoolId</span>: <span class="hljs-string">'us-west-2_xxxxxxxx'</span>,
        <span class="hljs-attr">userPoolWebClientId</span>: <span class="hljs-string">'xxxxxxxxxxxxxxxxxxxxxxxxxx'</span>,
    },
    <span class="hljs-attr">API</span>: {
        <span class="hljs-attr">endpoints</span>: [{
            <span class="hljs-attr">name</span>: <span class="hljs-string">"shreymethodapi"</span>,
            <span class="hljs-attr">endpoint</span>: <span class="hljs-string">"https://xxxxxxxxxx.execute-api.us-west-2.amazonaws.com/dev"</span>
        }]
    },
    <span class="hljs-attr">Storage</span>: {
        <span class="hljs-attr">AWSS3</span>: {
            <span class="hljs-attr">bucket</span>: <span class="hljs-string">'shreymethodfitness-storage'</span>,
            <span class="hljs-attr">region</span>: <span class="hljs-string">'us-west-2'</span>
        }
    }
};

Amplify.configure(awsConfig);

<span class="hljs-comment">// Check authentication</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkAuth</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> Amplify.Auth.currentAuthenticatedUser();
        <span class="hljs-keyword">return</span> user;
    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-built_in">window</span>.location.href = <span class="hljs-string">'client-login.html'</span>;
    }
}

<span class="hljs-comment">// Fetch client information</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fetchClientInfo</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> checkAuth();
        <span class="hljs-keyword">const</span> clientName = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'client-name'</span>);
        <span class="hljs-keyword">const</span> userName = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'user-name'</span>);
        
        <span class="hljs-comment">// Set user name from Cognito attributes</span>
        clientName.textContent = user.attributes.name || user.username;
        userName.textContent = user.attributes.name || user.username;
        
        <span class="hljs-comment">// Fetch client program</span>
        fetchClientProgram(user.username);
        fetchRecentFiles(user.username);
        
    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-built_in">console</span>.error(<span class="hljs-string">'Error fetching client info:'</span>, error);
    }
}

<span class="hljs-comment">// Fetch client program</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fetchClientProgram</span>(<span class="hljs-params">clientId</span>) </span>{
    <span class="hljs-keyword">const</span> programInfo = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'program-info'</span>);
    <span class="hljs-keyword">const</span> progressContainer = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'progress-container'</span>);
    
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// Query for client program</span>
        <span class="hljs-keyword">const</span> query = <span class="hljs-string">`query GetClientProgram($clientId: ID!) {
            listClientPrograms(filter: {clientId: {eq: $clientId}}) {
                items {
                    id
                    programId
                    startDate
                    currentWeek
                    status
                    nextCheckIn
                    program {
                        name
                        description
                        duration
                    }
                }
            }
        }`</span>;
        
        <span class="hljs-keyword">const</span> variables = {
            <span class="hljs-attr">clientId</span>: clientId
        };
        
        <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> Amplify.API.graphql({
            <span class="hljs-attr">query</span>: query,
            <span class="hljs-attr">variables</span>: variables
        });
        
        <span class="hljs-keyword">const</span> clientProgram = response.data.listClientPrograms.items[<span class="hljs-number">0</span>];
        
        <span class="hljs-keyword">if</span> (clientProgram) {
            <span class="hljs-comment">// Display program info</span>
            programInfo.innerHTML = <span class="hljs-string">`
                &lt;h3&gt;<span class="hljs-subst">${clientProgram.program.name}</span>&lt;/h3&gt;
                &lt;p&gt;<span class="hljs-subst">${clientProgram.program.description}</span>&lt;/p&gt;
                &lt;p class="next-checkin"&gt;Next Check-in: <span class="hljs-subst">${<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(clientProgram.nextCheckIn).toLocaleDateString()}</span>&lt;/p&gt;
            `</span>;
            
            <span class="hljs-comment">// Display progress</span>
            <span class="hljs-keyword">const</span> progress = <span class="hljs-built_in">Math</span>.round((clientProgram.currentWeek / clientProgram.program.duration) * <span class="hljs-number">100</span>);
            progressContainer.innerHTML = <span class="hljs-string">`
                &lt;div class="progress-bar"&gt;
                    &lt;div class="progress" style="width: <span class="hljs-subst">${progress}</span>%"&gt;&lt;/div&gt;
                &lt;/div&gt;
                &lt;p&gt;Week <span class="hljs-subst">${clientProgram.currentWeek}</span> of <span class="hljs-subst">${clientProgram.program.duration}</span>&lt;/p&gt;
            `</span>;
        } <span class="hljs-keyword">else</span> {
            programInfo.innerHTML = <span class="hljs-string">'&lt;p&gt;No active program found. Contact your coach to get started.&lt;/p&gt;'</span>;
            progressContainer.innerHTML = <span class="hljs-string">'&lt;p&gt;No program progress to display.&lt;/p&gt;'</span>;
        }
        
    } <span class="hljs-keyword">catch</span> (error) {
        programInfo.innerHTML = <span class="hljs-string">`&lt;div class="error"&gt;Error loading program: <span class="hljs-subst">${error.message}</span>&lt;/div&gt;`</span>;
        progressContainer.innerHTML = <span class="hljs-string">`&lt;div class="error"&gt;Error loading progress.&lt;/div&gt;`</span>;
    }
}

<span class="hljs-comment">// Fetch recent files</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fetchRecentFiles</span>(<span class="hljs-params">clientId</span>) </span>{
    <span class="hljs-keyword">const</span> recentFiles = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'recent-files'</span>);
    
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// Query for program content</span>
        <span class="hljs-keyword">const</span> query = <span class="hljs-string">`query GetProgramContent($clientId: ID!) {
            listProgramContents(filter: {clientId: {eq: $clientId}}, limit: 5, sort: {field: "createdAt", direction: "desc"}) {
                items {
                    id
                    title
                    fileUrl
                    fileType
                    createdAt
                }
            }
        }`</span>;
        
        <span class="hljs-keyword">const</span> variables = {
            <span class="hljs-attr">clientId</span>: clientId
        };
        
        <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> Amplify.API.graphql({
            <span class="hljs-attr">query</span>: query,
            <span class="hljs-attr">variables</span>: variables
        });
        
        <span class="hljs-keyword">const</span> files = response.data.listProgramContents.items;
        
        <span class="hljs-keyword">if</span> (files.length &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">const</span> filesList = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'ul'</span>);
            filesList.className = <span class="hljs-string">'files-list'</span>;
            
            files.forEach(<span class="hljs-function"><span class="hljs-params">file</span> =&gt;</span> {
                <span class="hljs-keyword">const</span> fileItem = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'li'</span>);
                fileItem.innerHTML = <span class="hljs-string">`
                    &lt;a href="#" class="file-link" data-url="<span class="hljs-subst">${file.fileUrl}</span>"&gt;
                        &lt;i class="file-icon <span class="hljs-subst">${getFileIconClass(file.fileType)}</span>"&gt;&lt;/i&gt;
                        <span class="hljs-subst">${file.title}</span>
                    &lt;/a&gt;
                `</span>;
                filesList.appendChild(fileItem);
            });
            
            recentFiles.innerHTML = <span class="hljs-string">''</span>;
            recentFiles.appendChild(filesList);
            
            <span class="hljs-comment">// Add event listeners to file links</span>
            <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.file-link'</span>).forEach(<span class="hljs-function"><span class="hljs-params">link</span> =&gt;</span> {
                link.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">async</span> (e) =&gt; {
                    e.preventDefault();
                    <span class="hljs-keyword">const</span> url = e.currentTarget.dataset.url;
                    <span class="hljs-keyword">const</span> fileUrl = <span class="hljs-keyword">await</span> Amplify.Storage.get(url);
                    <span class="hljs-built_in">window</span>.open(fileUrl, <span class="hljs-string">'_blank'</span>);
                });
            });
            
        } <span class="hljs-keyword">else</span> {
            recentFiles.innerHTML = <span class="hljs-string">'&lt;p&gt;No files available yet.&lt;/p&gt;'</span>;
        }
        
    } <span class="hljs-keyword">catch</span> (error) {
        recentFiles.innerHTML = <span class="hljs-string">`&lt;div class="error"&gt;Error loading files: <span class="hljs-subst">${error.message}</span>&lt;/div&gt;`</span>;
    }
}

<span class="hljs-comment">// Helper function to get file icon class</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFileIconClass</span>(<span class="hljs-params">fileType</span>) </span>{
    <span class="hljs-keyword">switch</span> (fileType) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'pdf'</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">'fa-file-pdf'</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'doc'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'docx'</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">'fa-file-word'</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'xls'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'xlsx'</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">'fa-file-excel'</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'jpg'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'jpeg'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'png'</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">'fa-file-image'</span>;
        <span class="hljs-keyword">default</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">'fa-file'</span>;
    }
}

<span class="hljs-comment">// Initialize</span>
<span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">'DOMContentLoaded'</span>, () =&gt; {
    fetchClientInfo();
    
    <span class="hljs-comment">// Set up quick action buttons</span>
    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'view-workout-btn'</span>).addEventListener(<span class="hljs-string">'click'</span>, () =&gt; {
        <span class="hljs-built_in">window</span>.location.href = <span class="hljs-string">'client-program.html'</span>;
    });
    
    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'log-nutrition-btn'</span>).addEventListener(<span class="hljs-string">'click'</span>, () =&gt; {
        <span class="hljs-built_in">window</span>.location.href = <span class="hljs-string">'client-nutrition.html'</span>;
    });
    
    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'message-coach-btn'</span>).addEventListener(<span class="hljs-string">'click'</span>, () =&gt; {
        <span class="hljs-built_in">window</span>.location.href = <span class="hljs-string">'client-messages.html'</span>;
    });
    
    <span class="hljs-comment">// Set up logout</span>
    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'logout-btn'</span>).addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">async</span> () =&gt; {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">await</span> Amplify.Auth.signOut();
            <span class="hljs-built_in">window</span>.location.href = <span class="hljs-string">'index.html'</span>;
        } <span class="hljs-keyword">catch</span> (error) {
            <span class="hljs-built_in">console</span>.error(<span class="hljs-string">'Error signing out: '</span>, error);
        }
    });
});
</div></code></pre>
<h4 id="4-create-coach-client-management">4. Create Coach Client Management</h4>
<ol>
<li>Create coach clients page (<code>coach-clients.html</code>):</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Client Management - The Shrey Method Fitness<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"css/styles.css"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"css/dashboard.css"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/aws-amplify@5.0.4/dist/aws-amplify.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-container"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- Sidebar navigation (same as coach-dashboard.html) --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-sidebar"</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- ... sidebar content ... --&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        
        <span class="hljs-comment">&lt;!-- Main content area --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-content"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-header"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Client Management<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"header-actions"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"add-client-btn"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-primary"</span>&gt;</span>+ Add New Client<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
            
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content-container"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toolbar"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"search-box"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"search-clients"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Search clients..."</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"filters"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"sort-by"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"name"</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"program"</span>&gt;</span>Program<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"status"</span>&gt;</span>Status<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"check-in"</span>&gt;</span>Next Check-in<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"filter-btn"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-secondary"</span>&gt;</span>Filter<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"clients-stats"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"stat-card"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Active Clients<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"active-clients-count"</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"stat-card"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Check-ins Today<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"checkins-today-count"</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"stat-card"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>New This Month<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"new-clients-count"</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"clients-list"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"clients-container"</span>&gt;</span>
                    <span class="hljs-comment">&lt;!-- Clients will be loaded here dynamically --&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"loading"</span>&gt;</span>Loading clients...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pagination"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"load-more"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-secondary"</span>&gt;</span>Load More Clients<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- Add Client Modal --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"add-client-modal"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-content"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"close"</span>&gt;</span><span class="hljs-symbol">&amp;times;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Add New Client<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"add-client-form"</span>&gt;</span>
                <span class="hljs-comment">&lt;!-- Form fields for adding a new client --&gt;</span>
                <span class="hljs-comment">&lt;!-- ... --&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"js/coach-clients.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<ol start="2">
<li>Create client management JavaScript (<code>js/coach-clients.js</code>):</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-comment">// Configure Amplify (same as other files)</span>
<span class="hljs-keyword">const</span> awsConfig = { <span class="hljs-comment">/* ... */</span> };
Amplify.configure(awsConfig);

<span class="hljs-comment">// Check authentication</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkAuth</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> Amplify.Auth.currentAuthenticatedUser();
        <span class="hljs-comment">// Check if user is in coaches group</span>
        <span class="hljs-keyword">const</span> session = <span class="hljs-keyword">await</span> Amplify.Auth.currentSession();
        <span class="hljs-keyword">const</span> idToken = session.getIdToken().payload;
        
        <span class="hljs-keyword">if</span> (!idToken[<span class="hljs-string">'cognito:groups'</span>] || !idToken[<span class="hljs-string">'cognito:groups'</span>].includes(<span class="hljs-string">'coaches'</span>)) {
            <span class="hljs-built_in">window</span>.location.href = <span class="hljs-string">'client-login.html'</span>;
        }
        
        <span class="hljs-keyword">return</span> user;
    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-built_in">window</span>.location.href = <span class="hljs-string">'client-login.html'</span>;
    }
}

<span class="hljs-comment">// Fetch clients</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fetchClients</span>(<span class="hljs-params">nextToken = null</span>) </span>{
    <span class="hljs-keyword">const</span> clientsContainer = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'clients-container'</span>);
    <span class="hljs-keyword">const</span> loadMoreBtn = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'load-more'</span>);
    
    <span class="hljs-keyword">if</span> (!nextToken) {
        clientsContainer.innerHTML = <span class="hljs-string">'&lt;div class="loading"&gt;Loading clients...&lt;/div&gt;'</span>;
    }
    
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// Query for all users in the clients group</span>
        <span class="hljs-comment">// This would typically be done through a Lambda function with admin privileges</span>
        <span class="hljs-comment">// For this example, we'll assume a simplified approach</span>
        
        <span class="hljs-comment">// Fetch client programs to get program information</span>
        <span class="hljs-keyword">const</span> query = <span class="hljs-string">`query ListClientPrograms($limit: Int, $nextToken: String) {
            listClientPrograms(limit: $limit, nextToken: $nextToken) {
                items {
                    id
                    clientId
                    programId
                    startDate
                    currentWeek
                    status
                    nextCheckIn
                    program {
                        name
                        duration
                    }
                    client {
                        name
                        email
                    }
                }
                nextToken
            }
        }`</span>;
        
        <span class="hljs-keyword">const</span> variables = {
            <span class="hljs-attr">limit</span>: <span class="hljs-number">10</span>,
            <span class="hljs-attr">nextToken</span>: nextToken
        };
        
        <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> Amplify.API.graphql({
            <span class="hljs-attr">query</span>: query,
            <span class="hljs-attr">variables</span>: variables
        });
        
        <span class="hljs-keyword">const</span> clientPrograms = response.data.listClientPrograms.items;
        <span class="hljs-keyword">const</span> newNextToken = response.data.listClientPrograms.nextToken;
        
        <span class="hljs-keyword">if</span> (!nextToken) {
            clientsContainer.innerHTML = <span class="hljs-string">''</span>;
        }
        
        <span class="hljs-comment">// Update stats</span>
        updateClientStats(clientPrograms);
        
        <span class="hljs-comment">// Render clients</span>
        clientPrograms.forEach(<span class="hljs-function"><span class="hljs-params">clientProgram</span> =&gt;</span> {
            <span class="hljs-keyword">const</span> checkInDate = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(clientProgram.nextCheckIn);
            <span class="hljs-keyword">const</span> today = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
            <span class="hljs-keyword">const</span> diffDays = <span class="hljs-built_in">Math</span>.ceil((checkInDate - today) / (<span class="hljs-number">1000</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">24</span>));
            
            <span class="hljs-keyword">let</span> checkInText;
            <span class="hljs-keyword">if</span> (diffDays === <span class="hljs-number">0</span>) {
                checkInText = <span class="hljs-string">'Today'</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (diffDays === <span class="hljs-number">1</span>) {
                checkInText = <span class="hljs-string">'Tomorrow'</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (diffDays &gt; <span class="hljs-number">1</span>) {
                checkInText = <span class="hljs-string">`<span class="hljs-subst">${diffDays}</span> days`</span>;
            } <span class="hljs-keyword">else</span> {
                checkInText = <span class="hljs-string">'Overdue'</span>;
            }
            
            <span class="hljs-keyword">const</span> clientEl = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>);
            clientEl.className = <span class="hljs-string">'client-item'</span>;
            clientEl.dataset.id = clientProgram.clientId;
            
            clientEl.innerHTML = <span class="hljs-string">`
                &lt;div class="client-header"&gt;
                    &lt;div class="client-name"&gt;
                        &lt;span class="status-indicator <span class="hljs-subst">${clientProgram.status.toLowerCase()}</span>"&gt;&lt;/span&gt;
                        &lt;strong&gt;<span class="hljs-subst">${clientProgram.client.name}</span>&lt;/strong&gt;
                    &lt;/div&gt;
                    &lt;div class="client-actions"&gt;
                        &lt;button class="btn-icon view-client" title="View Client"&gt;
                            &lt;i class="fas fa-eye"&gt;&lt;/i&gt;
                        &lt;/button&gt;
                        &lt;button class="btn-icon edit-client" title="Edit Client"&gt;
                            &lt;i class="fas fa-edit"&gt;&lt;/i&gt;
                        &lt;/button&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="client-details"&gt;
                    &lt;div class="client-program"&gt;
                        &lt;span class="label"&gt;Program:&lt;/span&gt; <span class="hljs-subst">${clientProgram.program.name}</span>
                    &lt;/div&gt;
                    &lt;div class="client-progress"&gt;
                        &lt;span class="label"&gt;Status:&lt;/span&gt; <span class="hljs-subst">${clientProgram.status}</span> Week <span class="hljs-subst">${clientProgram.currentWeek}</span>/<span class="hljs-subst">${clientProgram.program.duration}</span>
                    &lt;/div&gt;
                    &lt;div class="client-checkin"&gt;
                        &lt;span class="label"&gt;Next check-in:&lt;/span&gt; <span class="hljs-subst">${checkInText}</span>
                    &lt;/div&gt;
                &lt;/div&gt;
            `</span>;
            
            <span class="hljs-comment">// Add event listeners</span>
            clientEl.querySelector(<span class="hljs-string">'.view-client'</span>).addEventListener(<span class="hljs-string">'click'</span>, () =&gt; viewClient(clientProgram.clientId));
            clientEl.querySelector(<span class="hljs-string">'.edit-client'</span>).addEventListener(<span class="hljs-string">'click'</span>, () =&gt; editClient(clientProgram.clientId));
            
            clientsContainer.appendChild(clientEl);
        });
        
        <span class="hljs-comment">// Handle "Load More" button</span>
        <span class="hljs-keyword">if</span> (newNextToken) {
            loadMoreBtn.style.display = <span class="hljs-string">'block'</span>;
            loadMoreBtn.onclick = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> fetchClients(newNextToken);
        } <span class="hljs-keyword">else</span> {
            loadMoreBtn.style.display = <span class="hljs-string">'none'</span>;
        }
        
    } <span class="hljs-keyword">catch</span> (error) {
        clientsContainer.innerHTML = <span class="hljs-string">`&lt;div class="error"&gt;Error loading clients: <span class="hljs-subst">${error.message}</span>&lt;/div&gt;`</span>;
    }
}

<span class="hljs-comment">// Update client statistics</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateClientStats</span>(<span class="hljs-params">clientPrograms</span>) </span>{
    <span class="hljs-keyword">const</span> activeClientsCount = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'active-clients-count'</span>);
    <span class="hljs-keyword">const</span> checkinsToday = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'checkins-today-count'</span>);
    <span class="hljs-keyword">const</span> newClientsCount = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'new-clients-count'</span>);
    
    <span class="hljs-comment">// Count active clients</span>
    <span class="hljs-keyword">const</span> activeClients = clientPrograms.filter(<span class="hljs-function"><span class="hljs-params">cp</span> =&gt;</span> cp.status === <span class="hljs-string">'Active'</span>).length;
    activeClientsCount.textContent = activeClients;
    
    <span class="hljs-comment">// Count check-ins today</span>
    <span class="hljs-keyword">const</span> today = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().toDateString();
    <span class="hljs-keyword">const</span> todayCheckins = clientPrograms.filter(<span class="hljs-function"><span class="hljs-params">cp</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> checkInDate = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(cp.nextCheckIn).toDateString();
        <span class="hljs-keyword">return</span> checkInDate === today;
    }).length;
    checkinsToday.textContent = todayCheckins;
    
    <span class="hljs-comment">// Count new clients this month</span>
    <span class="hljs-keyword">const</span> thisMonth = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getMonth();
    <span class="hljs-keyword">const</span> thisYear = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getFullYear();
    <span class="hljs-keyword">const</span> newClients = clientPrograms.filter(<span class="hljs-function"><span class="hljs-params">cp</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> startDate = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(cp.startDate);
        <span class="hljs-keyword">return</span> startDate.getMonth() === thisMonth &amp;&amp; startDate.getFullYear() === thisYear;
    }).length;
    newClientsCount.textContent = newClients;
}

<span class="hljs-comment">// View client details</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">viewClient</span>(<span class="hljs-params">clientId</span>) </span>{
    <span class="hljs-built_in">window</span>.location.href = <span class="hljs-string">`coach-client-details.html?id=<span class="hljs-subst">${clientId}</span>`</span>;
}

<span class="hljs-comment">// Edit client</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">editClient</span>(<span class="hljs-params">clientId</span>) </span>{
    <span class="hljs-built_in">window</span>.location.href = <span class="hljs-string">`coach-client-edit.html?id=<span class="hljs-subst">${clientId}</span>`</span>;
}

<span class="hljs-comment">// Initialize</span>
<span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">'DOMContentLoaded'</span>, () =&gt; {
    checkAuth();
    fetchClients();
    
    <span class="hljs-comment">// Set up add client modal</span>
    <span class="hljs-keyword">const</span> modal = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'add-client-modal'</span>);
    <span class="hljs-keyword">const</span> addClientBtn = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'add-client-btn'</span>);
    <span class="hljs-keyword">const</span> closeBtn = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.close'</span>);
    
    addClientBtn.addEventListener(<span class="hljs-string">'click'</span>, () =&gt; {
        modal.style.display = <span class="hljs-string">'block'</span>;
    });
    
    closeBtn.addEventListener(<span class="hljs-string">'click'</span>, () =&gt; {
        modal.style.display = <span class="hljs-string">'none'</span>;
    });
    
    <span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">'click'</span>, (event) =&gt; {
        <span class="hljs-keyword">if</span> (event.target === modal) {
            modal.style.display = <span class="hljs-string">'none'</span>;
        }
    });
    
    <span class="hljs-comment">// Set up add client form</span>
    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'add-client-form'</span>).addEventListener(<span class="hljs-string">'submit'</span>, <span class="hljs-keyword">async</span> (event) =&gt; {
        event.preventDefault();
        <span class="hljs-comment">// Implementation for adding a new client</span>
    });
});
</div></code></pre>
<h4 id="5-create-program-content-management">5. Create Program Content Management</h4>
<ol>
<li>Create program content upload functionality in the coach dashboard</li>
<li>Create program content viewing functionality in the client dashboard</li>
</ol>
<h4 id="6-testing-phase-2">6. Testing Phase 2</h4>
<ol>
<li>
<p><strong>Client Dashboard Testing</strong>:</p>
<ul>
<li>Test program information display</li>
<li>Test file access and download</li>
<li>Verify proper permissions for client users</li>
</ul>
</li>
<li>
<p><strong>Coach Dashboard Testing</strong>:</p>
<ul>
<li>Test client management functionality</li>
<li>Test adding new clients</li>
<li>Test program assignment</li>
<li>Test file upload and management</li>
</ul>
</li>
<li>
<p><strong>Security Testing</strong>:</p>
<ul>
<li>Verify clients can only access their own content</li>
<li>Verify coaches can access all client information</li>
<li>Test API permissions for content access</li>
</ul>
</li>
</ol>
<h4 id="7-deployment">7. Deployment</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Deploy all Amplify resources</span>
amplify publish
</div></code></pre>
<hr>
<h2 id="phase-3-payment-processing">Phase 3: Payment Processing</h2>
<h3 id="overview">Overview</h3>
<p>Phase 3 adds payment processing capabilities to the platform, allowing clients to make one-time payments and manage subscriptions. This phase integrates Stripe for secure payment processing.</p>
<h3 id="ui-mockups">UI Mockups</h3>
<h4 id="client-dashboard---payments-view">Client Dashboard - Payments View</h4>
<pre class="hljs"><code><div>+------------------------------------------------------+
|  THE SHREY METHOD FITNESS           [John ▼]         |
+------------------------------------------------------+
|                                                      |
| [Overview]                                           |
| [My Program]            PAYMENT INFORMATION          |
| [Nutrition]                                          |
| [Messages]              Current Plan:                |
| [★ Payments]            MONTHLY COACHING ($199/month)|
| [Schedule]              Next billing: August 5, 2025 |
|                                                      |
|                         PAYMENT METHOD               |
|                         Visa ending in 4242          |
|                         [Update Payment Method]      |
|                                                      |
| PAYMENT HISTORY         PAYMENT OPTIONS              |
|                                                      |
| July 5, 2025            [Cancel Subscription]        |
| $199 - Monthly Coaching                              |
|                         [Upgrade to 3-month plan]    |
| June 5, 2025            Save 10% ($179/month)        |
| $199 - Monthly Coaching                              |
|                         [Add 1:1 Session]            |
| [View All Transactions] $99 single session           |
|                                                      |
+------------------------------------------------------+
</div></code></pre>
<h4 id="coach-dashboard---finances-view">Coach Dashboard - Finances View</h4>
<pre class="hljs"><code><div>+------------------------------------------------------+
|  THE SHREY METHOD FITNESS           [Shreyas ▼]      |
+------------------------------------------------------+
|                                                      |
| [Dashboard]                                          |
| [Clients]               FINANCE OVERVIEW             |
| [Messages]                                           |
| [Programs]              Monthly Revenue: $4,975      |
| [★ Finances]            Clients: 24 active          |
| [Settings]              Avg. Client Value: $207      |
|                                                      |
|                         UPCOMING PAYMENTS            |
| RECENT TRANSACTIONS                                  |
|                         Next 7 days: $1,390          |
| 07/26/25                Next 30 days: $4,975         |
| John Doe - $199                                      |
|                         PAYMENT ALERTS               |
| 07/25/25                                             |
| Sarah Smith - $249      ⚠ Michael Johnson           |
|                           Payment failed (2 days ago)|
| 07/25/25                                             |
| Michael Johnson - $99   ⚠ Lisa Wang                 |
| (FAILED)                  Subscription ending        |
|                                                      |
| [Export Financial Data]                              |
|                                                      |
+------------------------------------------------------+
</div></code></pre>
<h3 id="step-by-step-implementation">Step-by-Step Implementation</h3>
<h4 id="1-set-up-stripe-integration">1. Set Up Stripe Integration</h4>
<ol>
<li>Create a Stripe account at https://stripe.com</li>
<li>Get API keys from the Stripe Dashboard</li>
<li>Install Stripe libraries:</li>
</ol>
<pre class="hljs"><code><div>npm install stripe @stripe/stripe-js
</div></code></pre>
<h4 id="2-create-lambda-functions-for-payment-processing">2. Create Lambda Functions for Payment Processing</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Add function for payment processing</span>
amplify add <span class="hljs-keyword">function</span>
</div></code></pre>
<p><strong>Configuration Details:</strong></p>
<ul>
<li>Function name: processPayment</li>
<li>Runtime: NodeJS</li>
<li>Template: Hello World</li>
<li>Advanced settings: Yes</li>
<li>Access other resources: Yes</li>
<li>Categories: API, Storage</li>
<li>Environment variables: STRIPE_SECRET_KEY</li>
</ul>
<p>Create the Lambda function code:</p>
<pre class="hljs"><code><div><span class="hljs-comment">// amplify/backend/function/processPayment/src/index.js</span>
<span class="hljs-keyword">const</span> stripe = <span class="hljs-built_in">require</span>(<span class="hljs-string">'stripe'</span>)(process.env.STRIPE_SECRET_KEY);
<span class="hljs-keyword">const</span> AWS = <span class="hljs-built_in">require</span>(<span class="hljs-string">'aws-sdk'</span>);
<span class="hljs-keyword">const</span> docClient = <span class="hljs-keyword">new</span> AWS.DynamoDB.DocumentClient();

exports.handler = <span class="hljs-keyword">async</span> (event) =&gt; {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> { operation, payload } = <span class="hljs-built_in">JSON</span>.parse(event.body);
        
        <span class="hljs-keyword">switch</span> (operation) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">'createPaymentIntent'</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> createPaymentIntent(payload);
            <span class="hljs-keyword">case</span> <span class="hljs-string">'createSubscription'</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> createSubscription(payload);
            <span class="hljs-keyword">case</span> <span class="hljs-string">'cancelSubscription'</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> cancelSubscription(payload);
            <span class="hljs-keyword">case</span> <span class="hljs-string">'updatePaymentMethod'</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> updatePaymentMethod(payload);
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">return</span> {
                    <span class="hljs-attr">statusCode</span>: <span class="hljs-number">400</span>,
                    <span class="hljs-attr">body</span>: <span class="hljs-built_in">JSON</span>.stringify({ <span class="hljs-attr">error</span>: <span class="hljs-string">'Invalid operation'</span> })
                };
        }
    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">statusCode</span>: <span class="hljs-number">500</span>,
            <span class="hljs-attr">body</span>: <span class="hljs-built_in">JSON</span>.stringify({ <span class="hljs-attr">error</span>: error.message })
        };
    }
};

<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createPaymentIntent</span>(<span class="hljs-params">payload</span>) </span>{
    <span class="hljs-keyword">const</span> { amount, currency, customerId, description } = payload;
    
    <span class="hljs-keyword">const</span> paymentIntent = <span class="hljs-keyword">await</span> stripe.paymentIntents.create({
        amount,
        currency,
        <span class="hljs-attr">customer</span>: customerId,
        description
    });
    
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">statusCode</span>: <span class="hljs-number">200</span>,
        <span class="hljs-attr">body</span>: <span class="hljs-built_in">JSON</span>.stringify({
            <span class="hljs-attr">clientSecret</span>: paymentIntent.client_secret
        })
    };
}

<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createSubscription</span>(<span class="hljs-params">payload</span>) </span>{
    <span class="hljs-keyword">const</span> { customerId, priceId } = payload;
    
    <span class="hljs-keyword">const</span> subscription = <span class="hljs-keyword">await</span> stripe.subscriptions.create({
        <span class="hljs-attr">customer</span>: customerId,
        <span class="hljs-attr">items</span>: [{ <span class="hljs-attr">price</span>: priceId }],
        <span class="hljs-attr">expand</span>: [<span class="hljs-string">'latest_invoice.payment_intent'</span>]
    });
    
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">statusCode</span>: <span class="hljs-number">200</span>,
        <span class="hljs-attr">body</span>: <span class="hljs-built_in">JSON</span>.stringify({
            <span class="hljs-attr">subscriptionId</span>: subscription.id,
            <span class="hljs-attr">clientSecret</span>: subscription.latest_invoice.payment_intent.client_secret
        })
    };
}

<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cancelSubscription</span>(<span class="hljs-params">payload</span>) </span>{
    <span class="hljs-keyword">const</span> { subscriptionId } = payload;
    
    <span class="hljs-keyword">const</span> canceledSubscription = <span class="hljs-keyword">await</span> stripe.subscriptions.del(subscriptionId);
    
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">statusCode</span>: <span class="hljs-number">200</span>,
        <span class="hljs-attr">body</span>: <span class="hljs-built_in">JSON</span>.stringify({
            <span class="hljs-attr">subscriptionId</span>: canceledSubscription.id,
            <span class="hljs-attr">status</span>: canceledSubscription.status
        })
    };
}

<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updatePaymentMethod</span>(<span class="hljs-params">payload</span>) </span>{
    <span class="hljs-keyword">const</span> { customerId, paymentMethodId } = payload;
    
    <span class="hljs-keyword">await</span> stripe.paymentMethods.attach(paymentMethodId, {
        <span class="hljs-attr">customer</span>: customerId
    });
    
    <span class="hljs-keyword">await</span> stripe.customers.update(customerId, {
        <span class="hljs-attr">invoice_settings</span>: {
            <span class="hljs-attr">default_payment_method</span>: paymentMethodId
        }
    });
    
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">statusCode</span>: <span class="hljs-number">200</span>,
        <span class="hljs-attr">body</span>: <span class="hljs-built_in">JSON</span>.stringify({
            <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>
        })
    };
}
</div></code></pre>
<h4 id="3-create-api-endpoint-for-payment-processing">3. Create API Endpoint for Payment Processing</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Add API endpoint</span>
amplify add api
</div></code></pre>
<p><strong>Configuration Details:</strong></p>
<ul>
<li>Service: REST</li>
<li>API name: paymentapi</li>
<li>Path: /payments</li>
<li>Lambda function: processPayment</li>
<li>Additional paths: No</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-comment"># Push changes to AWS</span>
amplify push
</div></code></pre>
<h4 id="4-extend-database-schema-for-payments">4. Extend Database Schema for Payments</h4>
<p>Update the GraphQL schema to include payment information:</p>
<pre class="hljs"><code><div>type Payment @model
@auth(rules: [
  { allow: groups, groups: [&quot;coaches&quot;], operations: [read] },
  { allow: owner, operations: [read] }
]) {
  id: ID!
  clientId: ID!
  amount: Float!
  currency: String!
  status: String!
  type: String!
  description: String
  stripePaymentId: String
  createdAt: AWSDateTime!
}

type Subscription @model
@auth(rules: [
  { allow: groups, groups: [&quot;coaches&quot;], operations: [read, update] },
  { allow: owner, operations: [read] }
]) {
  id: ID!
  clientId: ID!
  planId: ID!
  status: String!
  stripeSubscriptionId: String
  currentPeriodEnd: AWSDateTime
  createdAt: AWSDateTime!
}

type Plan @model
@auth(rules: [
  { allow: groups, groups: [&quot;coaches&quot;], operations: [create, read, update, delete] },
  { allow: owner, operations: [read] }
]) {
  id: ID!
  name: String!
  description: String
  price: Float!
  currency: String!
  interval: String!
  stripePriceId: String
  active: Boolean!
}
</div></code></pre>
<pre class="hljs"><code><div><span class="hljs-comment"># Push changes to AWS</span>
amplify push
</div></code></pre>
<h4 id="5-create-client-payment-ui">5. Create Client Payment UI</h4>
<ol>
<li>Create client payments page (<code>client-payments.html</code>):</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Payments - The Shrey Method Fitness<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"css/styles.css"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"css/dashboard.css"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/aws-amplify@5.0.4/dist/aws-amplify.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://js.stripe.com/v3/"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-container"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- Sidebar navigation (same as client-dashboard.html) --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-sidebar"</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- ... sidebar content ... --&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        
        <span class="hljs-comment">&lt;!-- Main content area --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-content"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-header"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Payments<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
            
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content-container"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-grid"</span>&gt;</span>
                    <span class="hljs-comment">&lt;!-- Current Plan Card --&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-card"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Payment Information<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"current-plan"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"loading"</span>&gt;</span>Loading plan information...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    
                    <span class="hljs-comment">&lt;!-- Payment Method Card --&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-card"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Payment Method<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"payment-method"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"loading"</span>&gt;</span>Loading payment method...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    
                    <span class="hljs-comment">&lt;!-- Payment History Card --&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-card"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Payment History<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"payment-history"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"loading"</span>&gt;</span>Loading payment history...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"view-all-transactions"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-secondary"</span>&gt;</span>View All Transactions<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    
                    <span class="hljs-comment">&lt;!-- Payment Options Card --&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-card"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Payment Options<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"payment-options"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"loading"</span>&gt;</span>Loading payment options...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- Payment Method Modal --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"payment-method-modal"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-content"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"close"</span>&gt;</span><span class="hljs-symbol">&amp;times;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Update Payment Method<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"payment-form"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"card-element"</span>&gt;</span>
                    <span class="hljs-comment">&lt;!-- Stripe Card Element will be inserted here --&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"card-errors"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"error-message"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-primary"</span>&gt;</span>Update Payment Method<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"js/client-payments.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<ol start="2">
<li>Create client payments JavaScript (<code>js/client-payments.js</code>):</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-comment">// Configure Amplify</span>
<span class="hljs-keyword">const</span> awsConfig = {
    <span class="hljs-attr">Auth</span>: {
        <span class="hljs-attr">region</span>: <span class="hljs-string">'us-west-2'</span>,
        <span class="hljs-attr">userPoolId</span>: <span class="hljs-string">'us-west-2_xxxxxxxx'</span>,
        <span class="hljs-attr">userPoolWebClientId</span>: <span class="hljs-string">'xxxxxxxxxxxxxxxxxxxxxxxxxx'</span>,
    },
    <span class="hljs-attr">API</span>: {
        <span class="hljs-attr">endpoints</span>: [{
            <span class="hljs-attr">name</span>: <span class="hljs-string">"shreymethodapi"</span>,
            <span class="hljs-attr">endpoint</span>: <span class="hljs-string">"https://xxxxxxxxxx.execute-api.us-west-2.amazonaws.com/dev"</span>
        }, {
            <span class="hljs-attr">name</span>: <span class="hljs-string">"paymentapi"</span>,
            <span class="hljs-attr">endpoint</span>: <span class="hljs-string">"https://xxxxxxxxxx.execute-api.us-west-2.amazonaws.com/dev"</span>
        }]
    }
};

Amplify.configure(awsConfig);

<span class="hljs-comment">// Initialize Stripe</span>
<span class="hljs-keyword">const</span> stripe = Stripe(<span class="hljs-string">'pk_test_xxxxxxxxxxxxxxxxxxxxxxxx'</span>); <span class="hljs-comment">// Your Stripe publishable key</span>

<span class="hljs-comment">// Check authentication</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkAuth</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> Amplify.Auth.currentAuthenticatedUser();
        <span class="hljs-keyword">return</span> user;
    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-built_in">window</span>.location.href = <span class="hljs-string">'client-login.html'</span>;
    }
}

<span class="hljs-comment">// Fetch client subscription</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fetchSubscription</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">const</span> currentPlan = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'current-plan'</span>);
    
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> checkAuth();
        
        <span class="hljs-comment">// Query for client subscription</span>
        <span class="hljs-keyword">const</span> query = <span class="hljs-string">`query GetSubscription($clientId: ID!) {
            listSubscriptions(filter: {clientId: {eq: $clientId}, status: {eq: "active"}}) {
                items {
                    id
                    planId
                    status
                    stripeSubscriptionId
                    currentPeriodEnd
                    plan {
                        name
                        price
                        currency
                        interval
                    }
                }
            }
        }`</span>;
        
        <span class="hljs-keyword">const</span> variables = {
            <span class="hljs-attr">clientId</span>: user.username
        };
        
        <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> Amplify.API.graphql({
            <span class="hljs-attr">query</span>: query,
            <span class="hljs-attr">variables</span>: variables
        });
        
        <span class="hljs-keyword">const</span> subscription = response.data.listSubscriptions.items[<span class="hljs-number">0</span>];
        
        <span class="hljs-keyword">if</span> (subscription) {
            <span class="hljs-keyword">const</span> nextBillingDate = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(subscription.currentPeriodEnd);
            <span class="hljs-keyword">const</span> formattedPrice = formatCurrency(subscription.plan.price, subscription.plan.currency);
            
            currentPlan.innerHTML = <span class="hljs-string">`
                &lt;h3&gt;<span class="hljs-subst">${subscription.plan.name}</span>&lt;/h3&gt;
                &lt;p class="plan-price"&gt;<span class="hljs-subst">${formattedPrice}</span>/<span class="hljs-subst">${subscription.plan.interval}</span>&lt;/p&gt;
                &lt;p class="next-billing"&gt;Next billing: <span class="hljs-subst">${nextBillingDate.toLocaleDateString()}</span>&lt;/p&gt;
            `</span>;
            
            <span class="hljs-comment">// Fetch payment method</span>
            fetchPaymentMethod(user.username);
            
            <span class="hljs-comment">// Fetch payment history</span>
            fetchPaymentHistory(user.username);
            
            <span class="hljs-comment">// Load payment options</span>
            loadPaymentOptions(subscription);
            
        } <span class="hljs-keyword">else</span> {
            currentPlan.innerHTML = <span class="hljs-string">'&lt;p&gt;No active subscription found.&lt;/p&gt;'</span>;
            
            <span class="hljs-comment">// Load available plans</span>
            loadAvailablePlans();
        }
        
    } <span class="hljs-keyword">catch</span> (error) {
        currentPlan.innerHTML = <span class="hljs-string">`&lt;div class="error"&gt;Error loading subscription: <span class="hljs-subst">${error.message}</span>&lt;/div&gt;`</span>;
    }
}

<span class="hljs-comment">// Format currency helper</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">formatCurrency</span>(<span class="hljs-params">amount, currency</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Intl</span>.NumberFormat(<span class="hljs-string">'en-US'</span>, {
        <span class="hljs-attr">style</span>: <span class="hljs-string">'currency'</span>,
        <span class="hljs-attr">currency</span>: currency
    }).format(amount);
}

<span class="hljs-comment">// Initialize</span>
<span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">'DOMContentLoaded'</span>, () =&gt; {
    fetchSubscription();
    
    <span class="hljs-comment">// Set up payment method modal</span>
    <span class="hljs-keyword">const</span> modal = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'payment-method-modal'</span>);
    <span class="hljs-keyword">const</span> updatePaymentBtn = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'update-payment-btn'</span>);
    <span class="hljs-keyword">const</span> closeBtn = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.close'</span>);
    
    <span class="hljs-keyword">if</span> (updatePaymentBtn) {
        updatePaymentBtn.addEventListener(<span class="hljs-string">'click'</span>, () =&gt; {
            modal.style.display = <span class="hljs-string">'block'</span>;
            setupStripeElements();
        });
    }
    
    closeBtn.addEventListener(<span class="hljs-string">'click'</span>, () =&gt; {
        modal.style.display = <span class="hljs-string">'none'</span>;
    });
    
    <span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">'click'</span>, (event) =&gt; {
        <span class="hljs-keyword">if</span> (event.target === modal) {
            modal.style.display = <span class="hljs-string">'none'</span>;
        }
    });
});
</div></code></pre>
<h4 id="6-create-coach-finance-dashboard">6. Create Coach Finance Dashboard</h4>
<ol>
<li>Create coach finances page (<code>coach-finances.html</code>):</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Finances - The Shrey Method Fitness<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"css/styles.css"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"css/dashboard.css"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/aws-amplify@5.0.4/dist/aws-amplify.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-container"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- Sidebar navigation (same as coach-dashboard.html) --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-sidebar"</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- ... sidebar content ... --&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        
        <span class="hljs-comment">&lt;!-- Main content area --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-content"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-header"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Finances<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"header-actions"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"export-data-btn"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-secondary"</span>&gt;</span>Export Financial Data<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
            
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content-container"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-grid"</span>&gt;</span>
                    <span class="hljs-comment">&lt;!-- Finance Overview Card --&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-card"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Finance Overview<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"finance-stats"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"stat-item"</span>&gt;</span>
                                <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Monthly Revenue<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
                                <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"monthly-revenue"</span>&gt;</span>$0<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
                            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"stat-item"</span>&gt;</span>
                                <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Active Clients<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
                                <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"active-clients"</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
                            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"stat-item"</span>&gt;</span>
                                <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Avg. Client Value<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
                                <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"avg-client-value"</span>&gt;</span>$0<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
                            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"chart-container"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"revenue-chart"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    
                    <span class="hljs-comment">&lt;!-- Recent Transactions Card --&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-card"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Recent Transactions<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"recent-transactions"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"loading"</span>&gt;</span>Loading transactions...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    
                    <span class="hljs-comment">&lt;!-- Upcoming Payments Card --&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-card"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Upcoming Payments<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"upcoming-payments"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"loading"</span>&gt;</span>Loading upcoming payments...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    
                    <span class="hljs-comment">&lt;!-- Payment Alerts Card --&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-card"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Payment Alerts<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"payment-alerts"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"loading"</span>&gt;</span>Loading payment alerts...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"js/coach-finances.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<ol start="2">
<li>Create coach finances JavaScript (<code>js/coach-finances.js</code>):</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-comment">// Configure Amplify (same as other files)</span>
<span class="hljs-keyword">const</span> awsConfig = { <span class="hljs-comment">/* ... */</span> };
Amplify.configure(awsConfig);

<span class="hljs-comment">// Check authentication (same as coach-clients.js)</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkAuth</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-comment">/* ... */</span> }

<span class="hljs-comment">// Fetch financial data</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fetchFinancialData</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">await</span> checkAuth();
        
        <span class="hljs-comment">// Fetch payments</span>
        <span class="hljs-keyword">const</span> paymentsQuery = <span class="hljs-string">`query ListPayments {
            listPayments(limit: 100, sort: {field: "createdAt", direction: "desc"}) {
                items {
                    id
                    clientId
                    amount
                    currency
                    status
                    type
                    description
                    createdAt
                    client {
                        name
                    }
                }
            }
        }`</span>;
        
        <span class="hljs-keyword">const</span> paymentsResponse = <span class="hljs-keyword">await</span> Amplify.API.graphql({
            <span class="hljs-attr">query</span>: paymentsQuery
        });
        
        <span class="hljs-keyword">const</span> payments = paymentsResponse.data.listPayments.items;
        
        <span class="hljs-comment">// Fetch subscriptions</span>
        <span class="hljs-keyword">const</span> subscriptionsQuery = <span class="hljs-string">`query ListSubscriptions {
            listSubscriptions(filter: {status: {eq: "active"}}) {
                items {
                    id
                    clientId
                    planId
                    status
                    currentPeriodEnd
                    client {
                        name
                    }
                    plan {
                        name
                        price
                        currency
                    }
                }
            }
        }`</span>;
        
        <span class="hljs-keyword">const</span> subscriptionsResponse = <span class="hljs-keyword">await</span> Amplify.API.graphql({
            <span class="hljs-attr">query</span>: subscriptionsQuery
        });
        
        <span class="hljs-keyword">const</span> subscriptions = subscriptionsResponse.data.listSubscriptions.items;
        
        <span class="hljs-comment">// Update UI with financial data</span>
        updateFinanceOverview(payments, subscriptions);
        updateRecentTransactions(payments);
        updateUpcomingPayments(subscriptions);
        updatePaymentAlerts(payments, subscriptions);
        
    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-built_in">console</span>.error(<span class="hljs-string">'Error fetching financial data:'</span>, error);
    }
}

<span class="hljs-comment">// Update finance overview</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateFinanceOverview</span>(<span class="hljs-params">payments, subscriptions</span>) </span>{
    <span class="hljs-keyword">const</span> monthlyRevenueEl = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'monthly-revenue'</span>);
    <span class="hljs-keyword">const</span> activeClientsEl = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'active-clients'</span>);
    <span class="hljs-keyword">const</span> avgClientValueEl = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'avg-client-value'</span>);
    
    <span class="hljs-comment">// Calculate monthly revenue</span>
    <span class="hljs-keyword">const</span> currentMonth = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getMonth();
    <span class="hljs-keyword">const</span> currentYear = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getFullYear();
    
    <span class="hljs-keyword">const</span> monthlyPayments = payments.filter(<span class="hljs-function"><span class="hljs-params">payment</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> paymentDate = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(payment.createdAt);
        <span class="hljs-keyword">return</span> paymentDate.getMonth() === currentMonth &amp;&amp; paymentDate.getFullYear() === currentYear;
    });
    
    <span class="hljs-keyword">const</span> monthlyRevenue = monthlyPayments.reduce(<span class="hljs-function">(<span class="hljs-params">total, payment</span>) =&gt;</span> {
        <span class="hljs-keyword">return</span> total + payment.amount;
    }, <span class="hljs-number">0</span>);
    
    <span class="hljs-comment">// Count active clients</span>
    <span class="hljs-keyword">const</span> activeClients = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>(subscriptions.map(<span class="hljs-function"><span class="hljs-params">sub</span> =&gt;</span> sub.clientId)).size;
    
    <span class="hljs-comment">// Calculate average client value</span>
    <span class="hljs-keyword">const</span> avgClientValue = activeClients &gt; <span class="hljs-number">0</span> ? monthlyRevenue / activeClients : <span class="hljs-number">0</span>;
    
    <span class="hljs-comment">// Update UI</span>
    monthlyRevenueEl.textContent = formatCurrency(monthlyRevenue, <span class="hljs-string">'USD'</span>);
    activeClientsEl.textContent = activeClients;
    avgClientValueEl.textContent = formatCurrency(avgClientValue, <span class="hljs-string">'USD'</span>);
    
    <span class="hljs-comment">// Create revenue chart</span>
    createRevenueChart(payments);
}

<span class="hljs-comment">// Create revenue chart</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createRevenueChart</span>(<span class="hljs-params">payments</span>) </span>{
    <span class="hljs-keyword">const</span> ctx = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'revenue-chart'</span>).getContext(<span class="hljs-string">'2d'</span>);
    
    <span class="hljs-comment">// Group payments by month</span>
    <span class="hljs-keyword">const</span> monthlyData = {};
    
    payments.forEach(<span class="hljs-function"><span class="hljs-params">payment</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> date = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(payment.createdAt);
        <span class="hljs-keyword">const</span> monthYear = <span class="hljs-string">`<span class="hljs-subst">${date.getMonth() + <span class="hljs-number">1</span>}</span>/<span class="hljs-subst">${date.getFullYear()}</span>`</span>;
        
        <span class="hljs-keyword">if</span> (!monthlyData[monthYear]) {
            monthlyData[monthYear] = <span class="hljs-number">0</span>;
        }
        
        monthlyData[monthYear] += payment.amount;
    });
    
    <span class="hljs-comment">// Sort months chronologically</span>
    <span class="hljs-keyword">const</span> sortedMonths = <span class="hljs-built_in">Object</span>.keys(monthlyData).sort(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> [aMonth, aYear] = a.split(<span class="hljs-string">'/'</span>).map(<span class="hljs-built_in">Number</span>);
        <span class="hljs-keyword">const</span> [bMonth, bYear] = b.split(<span class="hljs-string">'/'</span>).map(<span class="hljs-built_in">Number</span>);
        
        <span class="hljs-keyword">if</span> (aYear !== bYear) {
            <span class="hljs-keyword">return</span> aYear - bYear;
        }
        
        <span class="hljs-keyword">return</span> aMonth - bMonth;
    });
    
    <span class="hljs-comment">// Create chart</span>
    <span class="hljs-keyword">new</span> Chart(ctx, {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'line'</span>,
        <span class="hljs-attr">data</span>: {
            <span class="hljs-attr">labels</span>: sortedMonths,
            <span class="hljs-attr">datasets</span>: [{
                <span class="hljs-attr">label</span>: <span class="hljs-string">'Monthly Revenue'</span>,
                <span class="hljs-attr">data</span>: sortedMonths.map(<span class="hljs-function"><span class="hljs-params">month</span> =&gt;</span> monthlyData[month]),
                <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'rgba(76, 175, 80, 0.2)'</span>,
                <span class="hljs-attr">borderColor</span>: <span class="hljs-string">'rgba(76, 175, 80, 1)'</span>,
                <span class="hljs-attr">borderWidth</span>: <span class="hljs-number">2</span>,
                <span class="hljs-attr">tension</span>: <span class="hljs-number">0.3</span>
            }]
        },
        <span class="hljs-attr">options</span>: {
            <span class="hljs-attr">responsive</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">maintainAspectRatio</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">scales</span>: {
                <span class="hljs-attr">y</span>: {
                    <span class="hljs-attr">beginAtZero</span>: <span class="hljs-literal">true</span>,
                    <span class="hljs-attr">ticks</span>: {
                        <span class="hljs-attr">callback</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
                            <span class="hljs-keyword">return</span> <span class="hljs-string">'$'</span> + value;
                        }
                    }
                }
            }
        }
    });
}

<span class="hljs-comment">// Format currency helper</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">formatCurrency</span>(<span class="hljs-params">amount, currency</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Intl</span>.NumberFormat(<span class="hljs-string">'en-US'</span>, {
        <span class="hljs-attr">style</span>: <span class="hljs-string">'currency'</span>,
        <span class="hljs-attr">currency</span>: currency
    }).format(amount);
}

<span class="hljs-comment">// Initialize</span>
<span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">'DOMContentLoaded'</span>, () =&gt; {
    fetchFinancialData();
    
    <span class="hljs-comment">// Set up export data button</span>
    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'export-data-btn'</span>).addEventListener(<span class="hljs-string">'click'</span>, () =&gt; {
        <span class="hljs-comment">// Implementation for exporting financial data</span>
    });
});
</div></code></pre>
<h4 id="7-testing-phase-3">7. Testing Phase 3</h4>
<ol>
<li>
<p><strong>Payment Processing Testing</strong>:</p>
<ul>
<li>Test Stripe integration</li>
<li>Test payment method updates</li>
<li>Test subscription creation and cancellation</li>
<li>Verify payment history display</li>
</ul>
</li>
<li>
<p><strong>Financial Dashboard Testing</strong>:</p>
<ul>
<li>Test revenue calculations</li>
<li>Test transaction history display</li>
<li>Test upcoming payments display</li>
<li>Test payment alerts functionality</li>
</ul>
</li>
<li>
<p><strong>Security Testing</strong>:</p>
<ul>
<li>Verify secure handling of payment information</li>
<li>Test API permissions for payment operations</li>
<li>Verify proper error handling for payment failures</li>
</ul>
</li>
</ol>
<h4 id="8-deployment">8. Deployment</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Deploy all Amplify resources</span>
amplify publish
</div></code></pre>
<hr>
<h2 id="phase-4-calendly-integration">Phase 4: Calendly Integration</h2>
<h3 id="overview">Overview</h3>
<p>Phase 4 integrates Calendly for scheduling capabilities, allowing clients to book sessions with you directly through the platform. This phase leverages Calendly's existing functionality rather than building a custom scheduling system.</p>
<h3 id="ui-mockups">UI Mockups</h3>
<h4 id="client-dashboard---schedule-view">Client Dashboard - Schedule View</h4>
<pre class="hljs"><code><div>+------------------------------------------------------+
|  THE SHREY METHOD FITNESS           [John ▼]         |
+------------------------------------------------------+
|                                                      |
| [Overview]                                           |
| [My Program]             SCHEDULE A SESSION          |
| [Nutrition]                                          |
| [Messages]               [Embedded Calendly Widget]  |
| [Payments]                                           |
| [★ Schedule]             • Select session type       |
|                          • Choose available date     |
|                          • Pick available time slot  |
| UPCOMING SESSIONS                                    |
|                                                      |
| Check-in Call                                        |
| July 30, 2025                                        |
| 3:00 PM - 3:30 PM                                    |
| [Reschedule] [Cancel]                                |
|                                                      |
| PAST SESSIONS                                        |
|                                                      |
| Progress Review                                      |
| July 15, 2025                                        |
| [View Session Notes]                                 |
|                                                      |
+------------------------------------------------------+
</div></code></pre>
<h4 id="coach-dashboard---calendar-view">Coach Dashboard - Calendar View</h4>
<pre class="hljs"><code><div>+------------------------------------------------------+
|  THE SHREY METHOD FITNESS           [Shreyas ▼]      |
+------------------------------------------------------+
|                                                      |
| [Dashboard]              CALENDAR                    |
| [Clients]                                            |
| [Messages]               [   July 2025    ] [Week ▼] |
| [Programs]                                           |
| [Finances]               +-------------------------+ |
| [★ Schedule]             |       DAILY SCHEDULE    | |
| [Settings]               +-------------------------+ |
|                          | 9:00 AM: Sarah Smith    | |
| TODAY'S SCHEDULE         | Check-in Call           | |
|                          |                         | |
| 9:00 AM                  | 11:30 AM: John Doe      | |
| Sarah Smith              | Program Review          | |
| Check-in Call            |                         | |
|                          | 2:00 PM: New Client     | |
| 11:30 AM                 | Consultation            | |
| John Doe                 |                         | |
| Program Review           | 4:30 PM: Michael Johnson| |
|                          | Final Assessment        | |
| 2:00 PM                  |                         | |
| New Client               +-------------------------+ |
| Consultation                                        |
|                                                      |
| [Manage Availability] [Block Time Off]              |
|                                                      |
+------------------------------------------------------+
</div></code></pre>
<h3 id="step-by-step-implementation">Step-by-Step Implementation</h3>
<h4 id="1-set-up-calendly-account">1. Set Up Calendly Account</h4>
<ol>
<li>Sign up for a Calendly Pro or Teams account at https://calendly.com</li>
<li>Configure your availability and event types:
<ul>
<li>15-minute consultation (free)</li>
<li>30-minute check-in call</li>
<li>60-minute assessment</li>
<li>90-minute in-person coaching</li>
</ul>
</li>
</ol>
<h4 id="2-create-client-scheduling-page">2. Create Client Scheduling Page</h4>
<ol>
<li>Create client schedule page (<code>client-schedule.html</code>):</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Schedule - The Shrey Method Fitness<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"css/styles.css"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"css/dashboard.css"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/aws-amplify@5.0.4/dist/aws-amplify.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://assets.calendly.com/assets/external/widget.js"</span> <span class="hljs-attr">async</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-container"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- Sidebar navigation (same as client-dashboard.html) --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-sidebar"</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- ... sidebar content ... --&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        
        <span class="hljs-comment">&lt;!-- Main content area --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-content"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-header"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Schedule<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
            
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content-container"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-grid"</span>&gt;</span>
                    <span class="hljs-comment">&lt;!-- Calendly Widget Card --&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-card full-width"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Schedule a Session<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"calendly-container"</span>&gt;</span>
                            <span class="hljs-comment">&lt;!-- Calendly inline widget --&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"calendly-widget"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"min-width:320px;height:630px;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    
                    <span class="hljs-comment">&lt;!-- Upcoming Sessions Card --&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-card"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Upcoming Sessions<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"upcoming-sessions"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"loading"</span>&gt;</span>Loading upcoming sessions...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    
                    <span class="hljs-comment">&lt;!-- Past Sessions Card --&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-card"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Past Sessions<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"past-sessions"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"loading"</span>&gt;</span>Loading past sessions...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"js/client-schedule.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<ol start="2">
<li>Create client scheduling JavaScript (<code>js/client-schedule.js</code>):</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-comment">// Configure Amplify</span>
<span class="hljs-keyword">const</span> awsConfig = {
    <span class="hljs-attr">Auth</span>: {
        <span class="hljs-attr">region</span>: <span class="hljs-string">'us-west-2'</span>,
        <span class="hljs-attr">userPoolId</span>: <span class="hljs-string">'us-west-2_xxxxxxxx'</span>,
        <span class="hljs-attr">userPoolWebClientId</span>: <span class="hljs-string">'xxxxxxxxxxxxxxxxxxxxxxxxxx'</span>,
    },
    <span class="hljs-attr">API</span>: {
        <span class="hljs-attr">endpoints</span>: [{
            <span class="hljs-attr">name</span>: <span class="hljs-string">"shreymethodapi"</span>,
            <span class="hljs-attr">endpoint</span>: <span class="hljs-string">"https://xxxxxxxxxx.execute-api.us-west-2.amazonaws.com/dev"</span>
        }]
    }
};

Amplify.configure(awsConfig);

<span class="hljs-comment">// Check authentication</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkAuth</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> Amplify.Auth.currentAuthenticatedUser();
        <span class="hljs-keyword">return</span> user;
    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-built_in">window</span>.location.href = <span class="hljs-string">'client-login.html'</span>;
    }
}

<span class="hljs-comment">// Initialize Calendly</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initializeCalendly</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> checkAuth();
        
        <span class="hljs-comment">// Get user information to prefill Calendly</span>
        <span class="hljs-keyword">const</span> name = user.attributes.name || <span class="hljs-string">''</span>;
        <span class="hljs-keyword">const</span> email = user.attributes.email || <span class="hljs-string">''</span>;
        
        <span class="hljs-comment">// Initialize Calendly inline widget</span>
        Calendly.initInlineWidget({
            <span class="hljs-attr">url</span>: <span class="hljs-string">'https://calendly.com/shreymethodfitness'</span>,
            <span class="hljs-attr">parentElement</span>: <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'calendly-widget'</span>),
            <span class="hljs-attr">prefill</span>: {
                <span class="hljs-attr">name</span>: name,
                <span class="hljs-attr">email</span>: email
            },
            <span class="hljs-attr">utm</span>: {
                <span class="hljs-attr">utmSource</span>: <span class="hljs-string">'website'</span>
            }
        });
        
        <span class="hljs-comment">// Set up Calendly event listener</span>
        <span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">'message'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            <span class="hljs-keyword">if</span> (e.data.event &amp;&amp; e.data.event.indexOf(<span class="hljs-string">'calendly'</span>) === <span class="hljs-number">0</span>) {
                <span class="hljs-comment">// Handle Calendly events</span>
                <span class="hljs-keyword">if</span> (e.data.event === <span class="hljs-string">'calendly.event_scheduled'</span>) {
                    <span class="hljs-comment">// Refresh upcoming sessions after scheduling</span>
                    fetchUpcomingSessions();
                }
            }
        });
        
    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-built_in">console</span>.error(<span class="hljs-string">'Error initializing Calendly:'</span>, error);
    }
}

<span class="hljs-comment">// Fetch upcoming sessions</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fetchUpcomingSessions</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">const</span> upcomingSessions = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'upcoming-sessions'</span>);
    
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// In a real implementation, you would fetch this data from your database</span>
        <span class="hljs-comment">// or from Calendly's API using a server-side function</span>
        
        <span class="hljs-comment">// For this example, we'll use mock data</span>
        <span class="hljs-keyword">const</span> mockSessions = [
            {
                <span class="hljs-attr">id</span>: <span class="hljs-string">'1'</span>,
                <span class="hljs-attr">title</span>: <span class="hljs-string">'Check-in Call'</span>,
                <span class="hljs-attr">date</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-string">'2025-07-30T15:00:00'</span>),
                <span class="hljs-attr">duration</span>: <span class="hljs-number">30</span>,
                <span class="hljs-attr">status</span>: <span class="hljs-string">'confirmed'</span>
            }
        ];
        
        <span class="hljs-keyword">if</span> (mockSessions.length &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">const</span> sessionsList = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>);
            sessionsList.className = <span class="hljs-string">'sessions-list'</span>;
            
            mockSessions.forEach(<span class="hljs-function"><span class="hljs-params">session</span> =&gt;</span> {
                <span class="hljs-keyword">const</span> sessionItem = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>);
                sessionItem.className = <span class="hljs-string">'session-item'</span>;
                
                <span class="hljs-keyword">const</span> formattedDate = session.date.toLocaleDateString();
                <span class="hljs-keyword">const</span> startTime = session.date.toLocaleTimeString([], { <span class="hljs-attr">hour</span>: <span class="hljs-string">'2-digit'</span>, <span class="hljs-attr">minute</span>: <span class="hljs-string">'2-digit'</span> });
                
                <span class="hljs-keyword">const</span> endTime = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(session.date.getTime() + session.duration * <span class="hljs-number">60000</span>)
                    .toLocaleTimeString([], { <span class="hljs-attr">hour</span>: <span class="hljs-string">'2-digit'</span>, <span class="hljs-attr">minute</span>: <span class="hljs-string">'2-digit'</span> });
                
                sessionItem.innerHTML = <span class="hljs-string">`
                    &lt;h3&gt;<span class="hljs-subst">${session.title}</span>&lt;/h3&gt;
                    &lt;p class="session-date"&gt;<span class="hljs-subst">${formattedDate}</span>&lt;/p&gt;
                    &lt;p class="session-time"&gt;<span class="hljs-subst">${startTime}</span> - <span class="hljs-subst">${endTime}</span>&lt;/p&gt;
                    &lt;div class="session-actions"&gt;
                        &lt;button class="btn-secondary reschedule-btn" data-id="<span class="hljs-subst">${session.id}</span>"&gt;Reschedule&lt;/button&gt;
                        &lt;button class="btn-secondary cancel-btn" data-id="<span class="hljs-subst">${session.id}</span>"&gt;Cancel&lt;/button&gt;
                    &lt;/div&gt;
                `</span>;
                
                sessionsList.appendChild(sessionItem);
            });
            
            upcomingSessions.innerHTML = <span class="hljs-string">''</span>;
            upcomingSessions.appendChild(sessionsList);
            
            <span class="hljs-comment">// Add event listeners to buttons</span>
            <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.reschedule-btn'</span>).forEach(<span class="hljs-function"><span class="hljs-params">btn</span> =&gt;</span> {
                btn.addEventListener(<span class="hljs-string">'click'</span>, () =&gt; rescheduleSession(btn.dataset.id));
            });
            
            <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.cancel-btn'</span>).forEach(<span class="hljs-function"><span class="hljs-params">btn</span> =&gt;</span> {
                btn.addEventListener(<span class="hljs-string">'click'</span>, () =&gt; cancelSession(btn.dataset.id));
            });
            
        } <span class="hljs-keyword">else</span> {
            upcomingSessions.innerHTML = <span class="hljs-string">'&lt;p&gt;No upcoming sessions scheduled.&lt;/p&gt;'</span>;
        }
        
    } <span class="hljs-keyword">catch</span> (error) {
        upcomingSessions.innerHTML = <span class="hljs-string">`&lt;div class="error"&gt;Error loading sessions: <span class="hljs-subst">${error.message}</span>&lt;/div&gt;`</span>;
    }
    
    <span class="hljs-comment">// Also fetch past sessions</span>
    fetchPastSessions();
}

<span class="hljs-comment">// Fetch past sessions</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fetchPastSessions</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">const</span> pastSessions = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'past-sessions'</span>);
    
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// In a real implementation, you would fetch this data from your database</span>
        <span class="hljs-comment">// or from Calendly's API using a server-side function</span>
        
        <span class="hljs-comment">// For this example, we'll use mock data</span>
        <span class="hljs-keyword">const</span> mockSessions = [
            {
                <span class="hljs-attr">id</span>: <span class="hljs-string">'2'</span>,
                <span class="hljs-attr">title</span>: <span class="hljs-string">'Progress Review'</span>,
                <span class="hljs-attr">date</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-string">'2025-07-15T14:00:00'</span>),
                <span class="hljs-attr">duration</span>: <span class="hljs-number">45</span>,
                <span class="hljs-attr">status</span>: <span class="hljs-string">'completed'</span>,
                <span class="hljs-attr">hasNotes</span>: <span class="hljs-literal">true</span>
            }
        ];
        
        <span class="hljs-keyword">if</span> (mockSessions.length &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">const</span> sessionsList = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>);
            sessionsList.className = <span class="hljs-string">'sessions-list'</span>;
            
            mockSessions.forEach(<span class="hljs-function"><span class="hljs-params">session</span> =&gt;</span> {
                <span class="hljs-keyword">const</span> sessionItem = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>);
                sessionItem.className = <span class="hljs-string">'session-item past'</span>;
                
                <span class="hljs-keyword">const</span> formattedDate = session.date.toLocaleDateString();
                
                sessionItem.innerHTML = <span class="hljs-string">`
                    &lt;h3&gt;<span class="hljs-subst">${session.title}</span>&lt;/h3&gt;
                    &lt;p class="session-date"&gt;<span class="hljs-subst">${formattedDate}</span>&lt;/p&gt;
                    <span class="hljs-subst">${session.hasNotes ? <span class="hljs-string">`&lt;button class="btn-secondary view-notes-btn" data-id="<span class="hljs-subst">${session.id}</span>"&gt;View Session Notes&lt;/button&gt;`</span> : <span class="hljs-string">''</span>}</span>
                `</span>;
                
                sessionsList.appendChild(sessionItem);
            });
            
            pastSessions.innerHTML = <span class="hljs-string">''</span>;
            pastSessions.appendChild(sessionsList);
            
            <span class="hljs-comment">// Add event listeners to buttons</span>
            <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.view-notes-btn'</span>).forEach(<span class="hljs-function"><span class="hljs-params">btn</span> =&gt;</span> {
                btn.addEventListener(<span class="hljs-string">'click'</span>, () =&gt; viewSessionNotes(btn.dataset.id));
            });
            
        } <span class="hljs-keyword">else</span> {
            pastSessions.innerHTML = <span class="hljs-string">'&lt;p&gt;No past sessions found.&lt;/p&gt;'</span>;
        }
        
    } <span class="hljs-keyword">catch</span> (error) {
        pastSessions.innerHTML = <span class="hljs-string">`&lt;div class="error"&gt;Error loading sessions: <span class="hljs-subst">${error.message}</span>&lt;/div&gt;`</span>;
    }
}

<span class="hljs-comment">// Reschedule session</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rescheduleSession</span>(<span class="hljs-params">sessionId</span>) </span>{
    <span class="hljs-comment">// In a real implementation, this would open Calendly's reschedule flow</span>
    <span class="hljs-comment">// For this example, we'll just scroll to the Calendly widget</span>
    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'calendly-widget'</span>).scrollIntoView({ <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span> });
}

<span class="hljs-comment">// Cancel session</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cancelSession</span>(<span class="hljs-params">sessionId</span>) </span>{
    <span class="hljs-comment">// In a real implementation, this would cancel the session via Calendly's API</span>
    <span class="hljs-keyword">if</span> (confirm(<span class="hljs-string">'Are you sure you want to cancel this session?'</span>)) {
        alert(<span class="hljs-string">'Session cancelled. In a real implementation, this would cancel via Calendly\'s API.'</span>);
        fetchUpcomingSessions(); <span class="hljs-comment">// Refresh the list</span>
    }
}

<span class="hljs-comment">// View session notes</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">viewSessionNotes</span>(<span class="hljs-params">sessionId</span>) </span>{
    <span class="hljs-comment">// In a real implementation, this would fetch and display session notes</span>
    alert(<span class="hljs-string">'In a real implementation, this would show session notes from your database.'</span>);
}

<span class="hljs-comment">// Initialize</span>
<span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">'DOMContentLoaded'</span>, () =&gt; {
    initializeCalendly();
    fetchUpcomingSessions();
});
</div></code></pre>
<h4 id="3-create-coach-calendar-view">3. Create Coach Calendar View</h4>
<ol>
<li>Create coach schedule page (<code>coach-schedule.html</code>):</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Schedule - The Shrey Method Fitness<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"css/styles.css"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"css/dashboard.css"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/aws-amplify@5.0.4/dist/aws-amplify.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-container"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- Sidebar navigation (same as coach-dashboard.html) --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-sidebar"</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- ... sidebar content ... --&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        
        <span class="hljs-comment">&lt;!-- Main content area --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-content"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-header"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Schedule<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"header-actions"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"manage-availability-btn"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-secondary"</span>&gt;</span>Manage Availability<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"block-time-btn"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-secondary"</span>&gt;</span>Block Time Off<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
            
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content-container"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"calendar-controls"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"date-selector"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"prev-month"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-icon"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"fas fa-chevron-left"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"current-month"</span>&gt;</span>July 2025<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"next-month"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-icon"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"fas fa-chevron-right"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"view-selector"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"calendar-view"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"day"</span>&gt;</span>Day<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"week"</span> <span class="hljs-attr">selected</span>&gt;</span>Week<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"month"</span>&gt;</span>Month<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"calendar-container"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"calendar"</span>&gt;</span>
                        <span class="hljs-comment">&lt;!-- Calendar will be rendered here --&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"loading"</span>&gt;</span>Loading calendar...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-grid"</span>&gt;</span>
                    <span class="hljs-comment">&lt;!-- Today's Schedule Card --&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard-card"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Today's Schedule<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"today-schedule"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"loading"</span>&gt;</span>Loading today's schedule...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- Calendly Admin Panel Iframe Modal --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"calendly-admin-modal"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-content large"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"close"</span>&gt;</span><span class="hljs-symbol">&amp;times;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"calendly-admin-iframe"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"about:blank"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width:100%; height:600px; border:none;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"js/coach-schedule.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<ol start="2">
<li>Create coach schedule JavaScript (<code>js/coach-schedule.js</code>):</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-comment">// Configure Amplify (same as other files)</span>
<span class="hljs-keyword">const</span> awsConfig = { <span class="hljs-comment">/* ... */</span> };
Amplify.configure(awsConfig);

<span class="hljs-comment">// Check authentication (same as coach-clients.js)</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkAuth</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-comment">/* ... */</span> }

<span class="hljs-comment">// Initialize calendar</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initializeCalendar</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">await</span> checkAuth();
        
        <span class="hljs-comment">// In a real implementation, this would integrate with Calendly's API</span>
        <span class="hljs-comment">// to fetch and display your calendar</span>
        
        <span class="hljs-comment">// For this example, we'll use mock data and a simplified calendar view</span>
        renderCalendar();
        fetchTodaySchedule();
        
    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-built_in">console</span>.error(<span class="hljs-string">'Error initializing calendar:'</span>, error);
    }
}

<span class="hljs-comment">// Render calendar</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">renderCalendar</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">const</span> calendar = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'calendar'</span>);
    <span class="hljs-keyword">const</span> currentMonthEl = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'current-month'</span>);
    
    <span class="hljs-comment">// Get current date</span>
    <span class="hljs-keyword">const</span> now = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
    <span class="hljs-keyword">const</span> currentYear = now.getFullYear();
    <span class="hljs-keyword">const</span> currentMonth = now.getMonth();
    
    <span class="hljs-comment">// Set current month display</span>
    currentMonthEl.textContent = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(currentYear, currentMonth).toLocaleDateString(<span class="hljs-string">'en-US'</span>, { <span class="hljs-attr">month</span>: <span class="hljs-string">'long'</span>, <span class="hljs-attr">year</span>: <span class="hljs-string">'numeric'</span> });
    
    <span class="hljs-comment">// Get selected view</span>
    <span class="hljs-keyword">const</span> view = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'calendar-view'</span>).value;
    
    <span class="hljs-comment">// Render appropriate view</span>
    <span class="hljs-keyword">switch</span> (view) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'day'</span>:
            renderDayView(calendar, now);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'week'</span>:
            renderWeekView(calendar, now);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'month'</span>:
            renderMonthView(calendar, now);
            <span class="hljs-keyword">break</span>;
    }
}

<span class="hljs-comment">// Fetch today's schedule</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fetchTodaySchedule</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">const</span> todaySchedule = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'today-schedule'</span>);
    
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// In a real implementation, this would fetch from Calendly's API</span>
        <span class="hljs-comment">// For this example, we'll use mock data</span>
        <span class="hljs-keyword">const</span> mockSchedule = [
            {
                <span class="hljs-attr">id</span>: <span class="hljs-string">'1'</span>,
                <span class="hljs-attr">clientName</span>: <span class="hljs-string">'Sarah Smith'</span>,
                <span class="hljs-attr">title</span>: <span class="hljs-string">'Check-in Call'</span>,
                <span class="hljs-attr">time</span>: <span class="hljs-string">'9:00 AM'</span>
            },
            {
                <span class="hljs-attr">id</span>: <span class="hljs-string">'2'</span>,
                <span class="hljs-attr">clientName</span>: <span class="hljs-string">'John Doe'</span>,
                <span class="hljs-attr">title</span>: <span class="hljs-string">'Program Review'</span>,
                <span class="hljs-attr">time</span>: <span class="hljs-string">'11:30 AM'</span>
            },
            {
                <span class="hljs-attr">id</span>: <span class="hljs-string">'3'</span>,
                <span class="hljs-attr">clientName</span>: <span class="hljs-string">'New Client'</span>,
                <span class="hljs-attr">title</span>: <span class="hljs-string">'Consultation'</span>,
                <span class="hljs-attr">time</span>: <span class="hljs-string">'2:00 PM'</span>
            }
        ];
        
        <span class="hljs-keyword">if</span> (mockSchedule.length &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">const</span> scheduleList = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>);
            scheduleList.className = <span class="hljs-string">'schedule-list'</span>;
            
            mockSchedule.forEach(<span class="hljs-function"><span class="hljs-params">session</span> =&gt;</span> {
                <span class="hljs-keyword">const</span> sessionItem = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>);
                sessionItem.className = <span class="hljs-string">'schedule-item'</span>;
                
                sessionItem.innerHTML = <span class="hljs-string">`
                    &lt;div class="schedule-time"&gt;<span class="hljs-subst">${session.time}</span>&lt;/div&gt;
                    &lt;div class="schedule-details"&gt;
                        &lt;h3&gt;<span class="hljs-subst">${session.clientName}</span>&lt;/h3&gt;
                        &lt;p&gt;<span class="hljs-subst">${session.title}</span>&lt;/p&gt;
                    &lt;/div&gt;
                `</span>;
                
                scheduleList.appendChild(sessionItem);
            });
            
            todaySchedule.innerHTML = <span class="hljs-string">''</span>;
            todaySchedule.appendChild(scheduleList);
            
        } <span class="hljs-keyword">else</span> {
            todaySchedule.innerHTML = <span class="hljs-string">'&lt;p&gt;No sessions scheduled for today.&lt;/p&gt;'</span>;
        }
        
    } <span class="hljs-keyword">catch</span> (error) {
        todaySchedule.innerHTML = <span class="hljs-string">`&lt;div class="error"&gt;Error loading schedule: <span class="hljs-subst">${error.message}</span>&lt;/div&gt;`</span>;
    }
}

<span class="hljs-comment">// Open Calendly admin panel</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">openCalendlyAdmin</span>(<span class="hljs-params">page = <span class="hljs-string">'scheduled_events'</span></span>) </span>{
    <span class="hljs-keyword">const</span> modal = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'calendly-admin-modal'</span>);
    <span class="hljs-keyword">const</span> iframe = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'calendly-admin-iframe'</span>);
    
    <span class="hljs-comment">// Set iframe source to Calendly admin page</span>
    iframe.src = <span class="hljs-string">`https://calendly.com/app/<span class="hljs-subst">${page}</span>`</span>;
    
    <span class="hljs-comment">// Show modal</span>
    modal.style.display = <span class="hljs-string">'block'</span>;
}

<span class="hljs-comment">// Initialize</span>
<span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">'DOMContentLoaded'</span>, () =&gt; {
    initializeCalendar();
    
    <span class="hljs-comment">// Set up calendar view selector</span>
    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'calendar-view'</span>).addEventListener(<span class="hljs-string">'change'</span>, renderCalendar);
    
    <span class="hljs-comment">// Set up month navigation</span>
    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'prev-month'</span>).addEventListener(<span class="hljs-string">'click'</span>, () =&gt; {
        <span class="hljs-comment">// Implementation for navigating to previous month</span>
    });
    
    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'next-month'</span>).addEventListener(<span class="hljs-string">'click'</span>, () =&gt; {
        <span class="hljs-comment">// Implementation for navigating to next month</span>
    });
    
    <span class="hljs-comment">// Set up admin buttons</span>
    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'manage-availability-btn'</span>).addEventListener(<span class="hljs-string">'click'</span>, () =&gt; {
        openCalendlyAdmin(<span class="hljs-string">'availability'</span>);
    });
    
    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'block-time-btn'</span>).addEventListener(<span class="hljs-string">'click'</span>, () =&gt; {
        openCalendlyAdmin(<span class="hljs-string">'event_types/timeoffs/new'</span>);
    });
    
    <span class="hljs-comment">// Set up modal close button</span>
    <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.close'</span>).addEventListener(<span class="hljs-string">'click'</span>, () =&gt; {
        <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'calendly-admin-modal'</span>).style.display = <span class="hljs-string">'none'</span>;
    });
});
</div></code></pre>
<h4 id="4-create-webhook-for-calendly-events">4. Create Webhook for Calendly Events</h4>
<p>To keep your platform in sync with Calendly events (bookings, cancellations, etc.), set up a webhook:</p>
<pre class="hljs"><code><div><span class="hljs-comment"># Add function for Calendly webhook</span>
amplify add <span class="hljs-keyword">function</span>
</div></code></pre>
<p><strong>Configuration Details:</strong></p>
<ul>
<li>Function name: calendlyWebhook</li>
<li>Runtime: NodeJS</li>
<li>Template: Hello World</li>
<li>Advanced settings: Yes</li>
<li>Access other resources: Yes</li>
<li>Categories: API, Storage</li>
<li>Environment variables: None</li>
</ul>
<p>Create the Lambda function code:</p>
<pre class="hljs"><code><div><span class="hljs-comment">// amplify/backend/function/calendlyWebhook/src/index.js</span>
<span class="hljs-keyword">const</span> AWS = <span class="hljs-built_in">require</span>(<span class="hljs-string">'aws-sdk'</span>);
<span class="hljs-keyword">const</span> docClient = <span class="hljs-keyword">new</span> AWS.DynamoDB.DocumentClient();

exports.handler = <span class="hljs-keyword">async</span> (event) =&gt; {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// Verify Calendly webhook signature (in a real implementation)</span>
        <span class="hljs-comment">// ...</span>
        
        <span class="hljs-keyword">const</span> payload = <span class="hljs-built_in">JSON</span>.parse(event.body);
        <span class="hljs-keyword">const</span> eventType = payload.event;
        
        <span class="hljs-keyword">switch</span> (eventType) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">'invitee.created'</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> handleBookingCreated(payload);
            <span class="hljs-keyword">case</span> <span class="hljs-string">'invitee.canceled'</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> handleBookingCanceled(payload);
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">return</span> {
                    <span class="hljs-attr">statusCode</span>: <span class="hljs-number">200</span>,
                    <span class="hljs-attr">body</span>: <span class="hljs-built_in">JSON</span>.stringify({ <span class="hljs-attr">message</span>: <span class="hljs-string">'Event type not handled'</span> })
                };
        }
    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">statusCode</span>: <span class="hljs-number">500</span>,
            <span class="hljs-attr">body</span>: <span class="hljs-built_in">JSON</span>.stringify({ <span class="hljs-attr">error</span>: error.message })
        };
    }
};

<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleBookingCreated</span>(<span class="hljs-params">payload</span>) </span>{
    <span class="hljs-comment">// Extract booking information</span>
    <span class="hljs-keyword">const</span> booking = {
        <span class="hljs-attr">id</span>: payload.payload.invitee.uuid,
        <span class="hljs-attr">eventType</span>: payload.payload.event_type.name,
        <span class="hljs-attr">clientEmail</span>: payload.payload.invitee.email,
        <span class="hljs-attr">clientName</span>: payload.payload.invitee.name,
        <span class="hljs-attr">startTime</span>: payload.payload.scheduled_event.start_time,
        <span class="hljs-attr">endTime</span>: payload.payload.scheduled_event.end_time,
        <span class="hljs-attr">status</span>: <span class="hljs-string">'confirmed'</span>,
        <span class="hljs-attr">createdAt</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().toISOString()
    };
    
    <span class="hljs-comment">// Store booking in database</span>
    <span class="hljs-keyword">await</span> docClient.put({
        <span class="hljs-attr">TableName</span>: process.env.BOOKINGS_TABLE,
        <span class="hljs-attr">Item</span>: booking
    }).promise();
    
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">statusCode</span>: <span class="hljs-number">200</span>,
        <span class="hljs-attr">body</span>: <span class="hljs-built_in">JSON</span>.stringify({ <span class="hljs-attr">message</span>: <span class="hljs-string">'Booking created successfully'</span> })
    };
}

<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleBookingCanceled</span>(<span class="hljs-params">payload</span>) </span>{
    <span class="hljs-comment">// Extract booking ID</span>
    <span class="hljs-keyword">const</span> bookingId = payload.payload.invitee.uuid;
    
    <span class="hljs-comment">// Update booking status in database</span>
    <span class="hljs-keyword">await</span> docClient.update({
        <span class="hljs-attr">TableName</span>: process.env.BOOKINGS_TABLE,
        <span class="hljs-attr">Key</span>: { <span class="hljs-attr">id</span>: bookingId },
        <span class="hljs-attr">UpdateExpression</span>: <span class="hljs-string">'set #status = :status'</span>,
        <span class="hljs-attr">ExpressionAttributeNames</span>: {
            <span class="hljs-string">'#status'</span>: <span class="hljs-string">'status'</span>
        },
        <span class="hljs-attr">ExpressionAttributeValues</span>: {
            <span class="hljs-string">':status'</span>: <span class="hljs-string">'canceled'</span>
        }
    }).promise();
    
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">statusCode</span>: <span class="hljs-number">200</span>,
        <span class="hljs-attr">body</span>: <span class="hljs-built_in">JSON</span>.stringify({ <span class="hljs-attr">message</span>: <span class="hljs-string">'Booking canceled successfully'</span> })
    };
}
</div></code></pre>
<h4 id="5-create-api-endpoint-for-calendly-webhook">5. Create API Endpoint for Calendly Webhook</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Add API endpoint</span>
amplify add api
</div></code></pre>
<p><strong>Configuration Details:</strong></p>
<ul>
<li>Service: REST</li>
<li>API name: calendlyapi</li>
<li>Path: /webhook</li>
<li>Lambda function: calendlyWebhook</li>
<li>Additional paths: No</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-comment"># Push changes to AWS</span>
amplify push
</div></code></pre>
<h4 id="6-configure-calendly-webhook">6. Configure Calendly Webhook</h4>
<ol>
<li>Go to Calendly admin dashboard</li>
<li>Navigate to Integrations &gt; Webhooks</li>
<li>Add a new webhook with the API Gateway URL</li>
<li>Select events to monitor (invitee.created, invitee.canceled)</li>
</ol>
<h4 id="7-testing-phase-4">7. Testing Phase 4</h4>
<ol>
<li>
<p><strong>Calendly Integration Testing</strong>:</p>
<ul>
<li>Test booking a session through the client dashboard</li>
<li>Test viewing upcoming sessions</li>
<li>Test canceling a session</li>
<li>Verify webhook functionality for event synchronization</li>
</ul>
</li>
<li>
<p><strong>Coach Calendar Testing</strong>:</p>
<ul>
<li>Test calendar view functionality</li>
<li>Test managing availability</li>
<li>Test blocking time off</li>
<li>Verify today's schedule display</li>
</ul>
</li>
<li>
<p><strong>Security Testing</strong>:</p>
<ul>
<li>Verify proper authentication for Calendly admin access</li>
<li>Test webhook signature verification</li>
<li>Verify proper error handling for scheduling operations</li>
</ul>
</li>
</ol>
<h4 id="8-deployment">8. Deployment</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Deploy all Amplify resources</span>
amplify publish
</div></code></pre>
<hr>
<h2 id="cost-estimates">Cost Estimates</h2>
<h3 id="aws-services-monthly-costs">AWS Services Monthly Costs</h3>
<table>
<thead>
<tr>
<th>Service</th>
<th>Free Tier</th>
<th>Beyond Free Tier</th>
<th>Estimated Monthly Cost</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>AWS Amplify Hosting</strong></td>
<td>First 12 months: 5GB storage, 15GB data transfer</td>
<td>$0.023 per GB stored, $0.15 per GB transferred</td>
<td>$0-25</td>
</tr>
<tr>
<td><strong>Cognito</strong></td>
<td>First 50,000 MAUs free</td>
<td>$0.0055 per MAU</td>
<td>$0 (&lt; 50k users)</td>
</tr>
<tr>
<td><strong>DynamoDB</strong></td>
<td>25GB storage</td>
<td>On-demand capacity: ~$1.25 per million read requests</td>
<td>$0-20</td>
</tr>
<tr>
<td><strong>Lambda</strong></td>
<td>1M free requests, 400,000 GB-seconds</td>
<td>$0.20 per 1M requests</td>
<td>$0-15</td>
</tr>
<tr>
<td><strong>API Gateway</strong></td>
<td>1M API calls (first 12 months)</td>
<td>$3.50 per million API calls</td>
<td>$0-10</td>
</tr>
<tr>
<td><strong>S3 Storage</strong></td>
<td>5GB storage, 20,000 GET requests</td>
<td>$0.023 per GB stored</td>
<td>$1-15</td>
</tr>
<tr>
<td><strong>SES (Email)</strong></td>
<td>N/A</td>
<td>$0.10 per 1,000 emails</td>
<td>$1-5</td>
</tr>
<tr>
<td><strong>Total AWS</strong></td>
<td></td>
<td></td>
<td><strong>$1-90</strong></td>
</tr>
</tbody>
</table>
<h3 id="third-party-services">Third-Party Services</h3>
<table>
<thead>
<tr>
<th>Service</th>
<th>Plan</th>
<th>Monthly Cost</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Calendly</strong></td>
<td>Pro</td>
<td>$12</td>
</tr>
<tr>
<td><strong>Calendly</strong></td>
<td>Teams</td>
<td>$16 per user</td>
</tr>
<tr>
<td><strong>Stripe</strong></td>
<td>Standard</td>
<td>2.9% + $0.30 per transaction</td>
</tr>
<tr>
<td><strong>Total Third-Party</strong></td>
<td></td>
<td><strong>$12-16 + transaction fees</strong></td>
</tr>
</tbody>
</table>
<h3 id="total-estimated-monthly-operating-costs">Total Estimated Monthly Operating Costs</h3>
<table>
<thead>
<tr>
<th>User Base</th>
<th>Monthly Cost Range</th>
</tr>
</thead>
<tbody>
<tr>
<td>Initial (&lt; 100 clients)</td>
<td>$13-50</td>
</tr>
<tr>
<td>Growing (100-500 clients)</td>
<td>$50-150</td>
</tr>
<tr>
<td>Established (500+ clients)</td>
<td>$150-300+</td>
</tr>
</tbody>
</table>
<h3 id="one-time-development-costs">One-Time Development Costs</h3>
<p>If hiring developers for implementation:</p>
<table>
<thead>
<tr>
<th>Implementation Scope</th>
<th>Estimated Cost</th>
</tr>
</thead>
<tbody>
<tr>
<td>Basic implementation (Phase 1 only)</td>
<td>$5,000-10,000</td>
</tr>
<tr>
<td>Full implementation (All phases)</td>
<td>$15,000-30,000+</td>
</tr>
</tbody>
</table>
<h3 id="cost-optimization-tips">Cost Optimization Tips</h3>
<ol>
<li><strong>Leverage AWS Free Tier</strong>: The free tier covers most services for the first 12 months</li>
<li><strong>Use Serverless Architecture</strong>: Pay only for what you use</li>
<li><strong>Implement Caching</strong>: Reduce database reads and API calls</li>
<li><strong>Monitor Usage</strong>: Set up AWS Budgets to track spending</li>
<li><strong>Phase Implementation</strong>: Start with core features, add more as you grow</li>
</ol>
<hr>
<h2 id="future-expansion-considerations">Future Expansion Considerations</h2>
<h3 id="advanced-client-features">Advanced Client Features</h3>
<ol>
<li>
<p><strong>Mobile App</strong>:</p>
<ul>
<li>Native mobile experience for clients</li>
<li>Push notifications for appointments and check-ins</li>
<li>Offline access to workout plans</li>
</ul>
</li>
<li>
<p><strong>Progress Tracking</strong>:</p>
<ul>
<li>Body measurements tracking</li>
<li>Progress photos with comparison tools</li>
<li>Achievement badges and milestones</li>
</ul>
</li>
<li>
<p><strong>Nutrition Tracking</strong>:</p>
<ul>
<li>Meal planning and recipes</li>
<li>Food diary with macro tracking</li>
<li>Grocery list generation</li>
</ul>
</li>
</ol>
<h3 id="advanced-coach-features">Advanced Coach Features</h3>
<ol>
<li>
<p><strong>Analytics Dashboard</strong>:</p>
<ul>
<li>Client retention metrics</li>
<li>Revenue forecasting</li>
<li>Program effectiveness analysis</li>
</ul>
</li>
<li>
<p><strong>Content Management System</strong>:</p>
<ul>
<li>Exercise video library</li>
<li>Template workout plans</li>
<li>Drag-and-drop program builder</li>
</ul>
</li>
<li>
<p><strong>Team Management</strong>:</p>
<ul>
<li>Support for multiple coaches</li>
<li>Client assignment and transfers</li>
<li>Team performance metrics</li>
</ul>
</li>
</ol>
<h3 id="technical-enhancements">Technical Enhancements</h3>
<ol>
<li>
<p><strong>Real-time Features</strong>:</p>
<ul>
<li>Live chat with clients</li>
<li>Real-time workout tracking</li>
<li>Instant notifications</li>
</ul>
</li>
<li>
<p><strong>AI Integration</strong>:</p>
<ul>
<li>Automated check-in reminders</li>
<li>Personalized workout recommendations</li>
<li>Nutrition analysis</li>
</ul>
</li>
<li>
<p><strong>Integration Ecosystem</strong>:</p>
<ul>
<li>Fitness tracker integration (Fitbit, Apple Health)</li>
<li>Nutrition app integration (MyFitnessPal)</li>
<li>Accounting software integration (QuickBooks, Xero)</li>
</ul>
</li>
</ol>
<h3 id="implementation-approach">Implementation Approach</h3>
<p>When considering these expansions, we recommend:</p>
<ol>
<li><strong>Prioritize based on client feedback</strong>: Let actual user needs drive development</li>
<li><strong>Implement incrementally</strong>: Add features in small, testable batches</li>
<li><strong>Measure impact</strong>: Track usage and ROI of new features</li>
<li><strong>Maintain performance</strong>: Ensure the platform remains fast and responsive</li>
<li><strong>Consider scalability</strong>: Design with growth in mind from the beginning</li>
</ol>
<hr>
<h2 id="technical-resources">Technical Resources</h2>
<h3 id="aws-documentation">AWS Documentation</h3>
<ul>
<li><a href="https://docs.amplify.aws/">AWS Amplify Documentation</a></li>
<li><a href="https://docs.aws.amazon.com/cognito/latest/developerguide/">Amazon Cognito Developer Guide</a></li>
<li><a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/">DynamoDB Developer Guide</a></li>
<li><a href="https://docs.aws.amazon.com/lambda/latest/dg/">Lambda Developer Guide</a></li>
</ul>
<h3 id="third-party-services">Third-Party Services</h3>
<ul>
<li><a href="https://stripe.com/docs">Stripe Documentation</a></li>
<li><a href="https://developer.calendly.com/">Calendly API Documentation</a></li>
</ul>
<h3 id="development-resources">Development Resources</h3>
<ul>
<li><a href="https://github.com/aws-amplify/amplify-js">AWS Amplify JavaScript Library</a></li>
<li><a href="https://stripe.com/docs/js">Stripe.js Documentation</a></li>
<li><a href="https://help.calendly.com/hc/en-us/articles/223147027-Embed-options-overview">Calendly Embed Documentation</a></li>
</ul>
<h3 id="security-best-practices">Security Best Practices</h3>
<ul>
<li><a href="https://aws.amazon.com/architecture/security-identity-compliance/">AWS Security Best Practices</a></li>
<li><a href="https://stripe.com/docs/security">Stripe Security</a></li>
<li><a href="https://owasp.org/www-project-top-ten/">OWASP Top 10</a></li>
</ul>

</body>
</html>
